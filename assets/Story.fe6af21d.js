import{s as N,u as P,r as c,o as u,c as v,a as e,t as m,b as o,d as g,R as _,w as h,e as z,v as M,f as $,g as B}from"./index.94c26da9.js";const V={class:"h-screen flex flex-col text-xs"},D={class:"flex bg-black/25"},H={class:"text-xl grow self-center p-1 truncate"},S=e("svg",{class:"h-5 w-5 self-center m-2",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z","clip-rule":"evenodd"})],-1),L=e("svg",{class:"h-5 w-5 self-center m-2",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z","clip-rule":"evenodd"})],-1),R={key:0,class:"flex justify-center m-2 text-xs"},A=e("div",{class:"w-full p-1"},"Passage List...",-1),E={key:1,class:"flex justify-center m-2 text-xs"},j=["placeholder"],I=e("hr",null,null,-1),T={class:"grow overflow-auto"},q={class:"flex motion-safe:hover:bg-black/20 motion-safe:transition"},U=e("div",{class:"handle self-center pl-1"},[e("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"})])],-1),Y={class:"w-full"},F={key:0,class:"flex mx-2"},G=["onClick"],J=e("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),K=[J],O={key:1,class:"flex mx-2"},Q=e("div",{class:"self-center text-xs mr-1"}," Delete ?.",-1),W=["onClick"],ee={setup(X){const l=N(),w=P(),p=c(!1),d=c("999999999"),r=c(""),f=c("Passage Name..."),a=w.params.id;l.storyId=a;const y=c(l.story[a].passage);function b(n){var s=!1;for(let t=0;t<l.story[a].passage.length;t++)l.story[a].passage[t].name==n&&(s=!0);return s}function k(){if(r.value.length<1)f.value="Passage Name Is Required...";else if(b(r.value))r.value="",f.value="Passage Name Already Exist...";else{let n=1,s=[];for(let t=0;t<l.story[a].passage.length;t++)s.push(l.story[a].passage[t].pid);s.sort(function(t,i){return t-i});for(let t=0;t<s.length;t++)s[t]==n&&n++;l.story[a].passage.push({name:r.value,pid:n.toString(),data:"Edit Your New Passage..."}),p.value=!1}}function C(n){l.story[a].passage.splice(n,1),d.value="999999999"}return c("Play The Story"),(n,s)=>(u(),v("div",V,[e("div",D,[e("p",H,m(o(l).story[o(a)].title),1),g(o(_),{to:`/story/${o(a)}/play`},{default:h(()=>[S]),_:1},8,["to"]),g(o(_),{to:`/story/${o(a)}/global`},{default:h(()=>[L]),_:1},8,["to"])]),p.value?(u(),v("div",E,[z(e("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=t=>r.value=t),placeholder:f.value,class:"text-white p-1 bg-transparent w-full outline-none outline-green-300 rounded placeholder:italic placeholder:text-slate-300"},null,8,j),[[M,r.value]]),e("button",{onClick:s[2]||(s[2]=t=>k()),class:"ml-2 whitespace-nowrap bg-green-300 text-black px-2 rounded"},"Create !"),e("button",{onClick:s[3]||(s[3]=t=>p.value=!1),class:"ml-2 whitespace-nowrap bg-red-300 text-black px-2 rounded"},"Cancel")])):(u(),v("div",R,[A,e("button",{onClick:s[0]||(s[0]=t=>{p.value=!0,r.value="",f.value="Passage Name..."}),class:"ml-2 whitespace-nowrap bg-green-300 text-black px-2 rounded"},"Create New Passage")])),I,e("div",T,[g(o($),{list:y.value,handle:".handle","item-key":"pid"},{item:h(({element:t,index:i})=>[e("div",q,[U,g(o(_),{to:`/story/${o(a)}/edit/${i}`,class:"grow mx-2 py-2 truncate"},{default:h(()=>[e("div",Y,m(t.name),1)]),_:2},1032,["to"]),d.value!=i?(u(),v("div",F,[e("button",{onClick:x=>d.value=i,class:"bg-red-500 self-center rounded p-0.5"},K,8,G)])):d.value==i?(u(),v("div",O,[Q,e("button",{onClick:x=>C(i),class:"bg-red-400 rounded self-center text-xs p-0.5 text-black"}," Delete ",8,W),e("button",{onClick:s[4]||(s[4]=x=>d.value="999999999"),class:"bg-green-300 rounded self-center text-xs p-0.5 ml-1 text-black"}," Cancel ")])):B("",!0)])]),_:1},8,["list"])])]))}};export{ee as default};
