import{s as h,u as C,r as g,o as a,c as i,a as t,n as p,e as f,v as b,i as S,b as l,F as L,f as N,g as u,t as V,h as x}from"./index.007b181c.js";const $={class:"h-screen flex flex-col"},z=t("div",{class:"flex bg-black/25"},[t("p",{class:"text-xl grow self-center p-1"},"Global Story Setting")],-1),B={class:"flex"},U={key:0,class:"p-1 w-full grow text-xs overflow-auto"},I=t("p",{class:"p-1"},"Story Title",-1),M={class:"flex justify-center text-xs"},j=t("p",{class:"p-1 mt-2"},"Story Will Start At",-1),D=["value"],T=t("p",{class:"p-1 mt-2"},"IFID",-1),W=t("br",null,null,-1),F={key:1,class:"p-1 outline-none w-full grow flex flex-col"},A={class:"flex justify-start m-2 text-xs"},E=x("Wrap "),R=t("svg",{class:"h-4 w-4 self-center ml-1",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),G=[E,R],J=x("Wrap "),O=t("svg",{class:"h-4 w-4 self-center ml-1",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1),q=[J,O],H={key:2,class:"p-1 outline-none w-full grow flex flex-col"},K={class:"flex justify-start m-2 text-xs"},P=x("Wrap "),Q=t("svg",{class:"h-4 w-4 self-center ml-1",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),X=[P,Q],Y=x("Wrap "),Z=t("svg",{class:"h-4 w-4 self-center ml-1",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1),ee=[Y,Z],le={setup(te){const s=h(),y=C(),d=g("setting"),r=g(!0),n=y.params,v=g(s.story[n.id].title);function m(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,c=>(c^crypto.getRandomValues(new Uint8Array(1))[0]&15>>c/4).toString(16))}function w(){s.story[n.id].ifid=m().toString().toUpperCase()}function k(c,e){var o=document.createElement("a");o.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),o.setAttribute("download",c),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)}function _(){v.value&&(s.story[n.id].title=v.value)}return(c,e)=>(a(),i("div",$,[z,t("div",B,[t("button",{onClick:e[0]||(e[0]=o=>d.value="setting"),class:p([d.value=="setting"?"":"border-b-2 bg-black/20","grow"])},"Setting",2),t("button",{onClick:e[1]||(e[1]=o=>d.value="css"),class:p([d.value=="css"?"":"border-b-2 bg-black/20","grow"])},"CSS",2),t("button",{onClick:e[2]||(e[2]=o=>d.value="js"),class:p([d.value=="js"?"":"border-b-2 bg-black/20","grow"])},"Javascript",2)]),d.value=="setting"?(a(),i("div",U,[I,t("div",M,[f(t("input",{type:"text",placeholder:"Story Title Must Not Empty","onUpdate:modelValue":e[3]||(e[3]=o=>v.value=o),class:"font-mono bg-transparent p-1 outline-none border rounded w-full placeholder:italic placeholder:text-slate-300"},null,512),[[b,v.value]]),t("button",{onClick:_,class:"self-center rounded bg-green-300 text-black p-2"},"Set")]),j,f(t("select",{"onUpdate:modelValue":e[4]||(e[4]=o=>l(s).story[l(n).id].startNode=o),class:"font-mono bg-transparent p-1 outline-none border rounded w-full"},[(a(!0),i(L,null,N(l(s).story[l(n).id].passage,o=>(a(),i("option",{class:"bg-gray-700",value:o.pid},V(o.name),9,D))),256))],512),[[S,l(s).story[l(n).id].startNode]]),T,f(t("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=o=>l(s).story[l(n).id].ifid=o),disabled:"",class:"font-mono bg-transparent p-1 overflow-auto outline-none border rounded w-full"},null,512),[[b,l(s).story[l(n).id].ifid]]),t("button",{onClick:e[6]||(e[6]=o=>w()),class:"rounded bg-green-300 text-black p-1 mt-1"},"Generate New IFID"),W,t("button",{onClick:e[7]||(e[7]=o=>k(l(s).story[l(n).id].title+".tweezeldata",JSON.stringify(l(s).story[l(n).id]))),class:"rounded bg-green-300 text-black p-1 mt-5"},"Backup This Story.")])):u("",!0),d.value=="css"?(a(),i("div",F,[t("div",A,[r.value?(a(),i("button",{key:0,onClick:e[8]||(e[8]=o=>r.value=!1),class:"flex flex-row rounded bg-green-300 text-black p-1"},G)):u("",!0),r.value?u("",!0):(a(),i("button",{key:1,onClick:e[9]||(e[9]=o=>r.value=!0),class:"flex flex-row rounded bg-green-300 text-black p-1"},q))]),f(t("textarea",{type:"textarea","onUpdate:modelValue":e[10]||(e[10]=o=>l(s).story[l(n).id].userStyle=o),class:p([r.value?"whitespace-pre":"","text-xs font-mono bg-transparent p-1 outline-none border rounded resize-none grow w-full"])},null,2),[[b,l(s).story[l(n).id].userStyle]])])):u("",!0),d.value=="js"?(a(),i("div",H,[t("div",K,[r.value?(a(),i("button",{key:0,onClick:e[11]||(e[11]=o=>r.value=!1),class:"flex flex-row rounded bg-green-300 text-black p-1"},X)):u("",!0),r.value?u("",!0):(a(),i("button",{key:1,onClick:e[12]||(e[12]=o=>r.value=!0),class:"flex flex-row rounded bg-green-300 text-black p-1"},ee))]),f(t("textarea",{type:"textarea","onUpdate:modelValue":e[13]||(e[13]=o=>l(s).story[l(n).id].userScript=o),class:p([r.value?"whitespace-pre":"","text-xs font-mono bg-transparent p-1 outline-none border rounded resize-none grow w-full"])},null,2),[[b,l(s).story[l(n).id].userScript]])])):u("",!0)]))}};export{le as default};
