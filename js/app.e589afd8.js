(function(){"use strict";var e={5864:function(e,t,o){var l=o(9242),a=o(1020),r=o(3396),s=o(7139),n=o(4870);const i=(0,a.Q_)({id:"story",state:()=>({counter:0,storyId:0,story:[],group:[],groupState:"",playState:"play",isWrap:!1,askInstall:!0,innerHeight:0,playedStory:[],theme:"business",themeList:["garden","business","wireframe","black","valentine","retro","fantasy","pastel","autumn","winter"],maxStorage:0,currentStorage:0}),getters:{doubleCount:e=>2*e.counter},actions:{increment(){this.counter++}},persist:!0}),c=["data-theme"],u={key:0,class:"absolute bottom-0 w-full flex justify-center items-center p-2 z-50"},d={class:"alert alert-success shadow-lg"},p=(0,r._)("div",null,[(0,r._)("span",null,"Install TweezeL To Ur Device !. It Doesn't Take Storage And Work Offline !.")],-1),m={class:"flex-none"};var b={__name:"App",setup(e){const t=i(),o=(0,n.iH)(null),l=(0,n.iH)(t.maxStorage<1);window.addEventListener("beforeinstallprompt",(e=>{t.askInstall&&(e.preventDefault(),o.value=e)})),window.addEventListener("appinstalled",(()=>{o.value=null})),window.addEventListener("resize",(()=>{t.innerHeight=window.innerHeight}));const a=()=>{o.value=null,t.askInstall=!1};function b(){var e=0;for(var t in window.localStorage)window.localStorage.hasOwnProperty(t)&&(e+=t.length+localStorage.getItem(t).length);return e}function h(){var e=10485760,t=0,o=0,l="testQuota",a=2e4,r=(new Date).getTime(),s=0;let n=0;do{n=(new Date).getTime()-r;try{o=Math.floor((e+t)/2),localStorage.setItem(l,String("1").repeat(o)),t=o}catch(i){e=o-1}}while(e-t>1&&n<a);return localStorage.removeItem(l),n>=a&&console.log("Unused Space Calculation May Be Off Due To Timeout."),s=o+l.length-1,s}function g(){var e=h(),o=b(),a=e+o;return t.currentStorage=o,t.maxStorage=a,l.value=!1,a}return t.innerHeight=window.innerHeight,l.value?g():t.currentStorage=b(),(e,l)=>{const i=(0,r.up)("RouterView");return(0,r.wg)(),(0,r.iD)("div",{class:"font-sans h-screen relative",style:(0,s.j5)({height:(0,n.SU)(t).innerHeight+"px"}),"data-theme":(0,n.SU)(t).theme},[o.value?((0,r.wg)(),(0,r.iD)("div",u,[(0,r._)("div",d,[p,(0,r._)("div",m,[(0,r._)("button",{onClick:l[0]||(l[0]=e=>a()),class:"btn btn-sm btn-ghost"},"Never"),(0,r._)("button",{onClick:l[1]||(l[1]=e=>o.value=null),class:"btn btn-sm btn-ghost"},"Deny"),(0,r._)("button",{onClick:l[2]||(l[2]=e=>o.value.prompt()),class:"btn btn-sm btn-primary"},"Install")])])])):(0,r.kq)("",!0),(0,r.Wm)(i)],12,c)}}};const h=b;var g=h,f=o(5431);(0,f.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var y=o(2483),w=(o(3408),o(4590),o(7658),o(6983)),v=o.n(w),k=o(5860);const S=(0,r._)("div",{class:"divider text-xl"},"Storage",-1),_={class:"flex justify-center items-center"},x=(0,r._)("span",null,"Storage Used : ",-1),U=(0,r.uE)('<div class="divider text-xl"></div><h3 class="font-bold text-lg mb-4">&quot;What Is That ?.&quot; U Ask ?.</h3><p class="p-1 mt-2">That Is A Storage U Used On The Browser. TweezeL Really Rely On Browser Storage <i>(LocalStorage)</i>. Usually The Space Is <b>5 MB</b> <u>(While PWA App Can Be Up To <b>20% Of Your Total Device Storage.).</b></u> <b>5 MB</b> Is Not Much But It Contain A Lot Of Text For U To Create A Very Big Story. So If It&#39;s Full U May Want To Backup / Delete Your Story. Or...</p><p class="p-1 mt-2">I Heard If U Install TweezeL As PWA App On Chrome. It Will Increase It&#39;s Storage Limit ?.<br>I Don&#39;t Know. Why Don&#39;t U Try Yourself Installing TweezeL ?. :)</p>',4);var T={__name:"StorageDetail",setup(e){const t=i();return(e,o)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[S,(0,r._)("div",_,[x,(0,r._)("div",{class:"radial-progress",style:(0,s.j5)(["--value:"+(0,n.SU)(t).currentStorage/(0,n.SU)(t).maxStorage*100+";"])},(0,s.zw)(Math.round((0,n.SU)(t).currentStorage/(0,n.SU)(t).maxStorage*100))+"%",5)]),U],64))}};const C=T;var A=C;const H=["id"],D={class:"modal modal-bottom sm:modal-middle"},I={class:"modal-box relative"},M=["for"],z={class:"modal-action"},L=["onClick","for"],B=["for"];var P={__name:"ModalComponent",props:["idProps","className","modalAction"],setup(e){return(t,o)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("input",{type:"checkbox",id:e.idProps,class:(0,s.C_)(["modal-toggle ",e.className])},null,10,H),(0,r._)("div",D,[(0,r._)("div",I,[(0,r._)("label",{for:e.idProps,class:"btn btn-error btn-sm btn-circle btn-ghost absolute right-2 top-2 text-error"},"✕",8,M),(0,r.WI)(t.$slots,"children"),(0,r._)("div",z,[e.modalAction.length>0?((0,r.wg)(!0),(0,r.iD)(r.HY,{key:0},(0,r.Ko)(e.modalAction,((t,o)=>((0,r.wg)(),(0,r.iD)("label",{key:o,class:(0,s.C_)(t.className),onClick:t.onPress,for:t.closeOnClick?e.idProps:"none"},(0,s.zw)(t.label),11,L)))),128)):((0,r.wg)(),(0,r.iD)("label",{key:1,for:e.idProps,class:"btn btn-success"},"Close.",8,B))])])])],64))}};const O=P;var j=O;const N={class:"navbar bg-primary shadow-lg text-primary-content"},W=(0,r._)("div",{class:"flex-1"},[(0,r._)("button",{class:"btn btn-ghost normal-case text-xl"},"TweezeL")],-1),F={class:"shrink"},q={for:"limit-modal",class:"btn btn-ghost normal-case text-xl"},E={class:"dropdown dropdown-end"},V=(0,r._)("label",{tabindex:"0",class:"btn btn-ghost btn-square m-1"},[(0,r._)("svg",{fill:"none",viewBox:"0 0 24 24",class:"inline-block w-5 h-5 stroke-current"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})])],-1),Y={tabindex:"0",class:"dropdown-content menu p-2 rounded-box shadow-xl bg-primary mt-4"},R=(0,r._)("li",{class:"p-1"},[(0,r._)("label",{for:"setting-modal"},"Setting")],-1),G=(0,r._)("li",{class:"p-1"},[(0,r._)("label",{for:"about-modal"},"About")],-1),J={key:0,class:"p-1"},$={class:"form-control p-2"},K={class:"input-group input-group-xs w-full"},Z={key:0,class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Q=(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1),X=[Q],ee={key:1,class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},te=(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1),oe=[te],le={class:"w-full grow p-2 overflow-auto flex flex-col"},ae={class:"grow overflow-auto pb-[69px]"},re={class:"relative flex items-center transition-all hover:bg-black/20"},se={key:0,class:"handle absolute left-3 cursor-move"},ne=(0,r._)("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[(0,r._)("path",{"fill-rule":"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"})],-1),ie=[ne],ce={class:"flex absolute right-3"},ue={class:"dropdown dropdown-end"},de=(0,r._)("label",{tabindex:"0",class:"btn btn-ghost btn-sm"},[(0,r._)("svg",{fill:"none",viewBox:"0 0 24 24",class:"inline-block w-5 h-5 stroke-current"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})])],-1),pe={tabindex:"0",class:"dropdown-content menu menu-compact p-2 bg-base-100 rounded-box shadow-xl"},me=["onClick"],be=(0,r._)("label",{for:"create-modal",class:"btn btn-primary btn-circle absolute bottom-5 right-5 cursor-pointer"},[(0,r._)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])],-1),he=(0,r._)("input",{type:"checkbox",id:"create-modal",class:"modal-toggle"},null,-1),ge={class:"modal modal-bottom sm:modal-middle"},fe={class:"modal-box relative"},ye=(0,r._)("label",{for:"create-modal",class:"btn btn-error btn-sm btn-circle btn-ghost absolute right-2 top-2 text-error"},"✕",-1),we=(0,r._)("h3",{class:"font-bold text-lg mb-4"},"Write An Amazing Title For Your Story...",-1),ve={class:"modal-action"},ke=(0,r._)("input",{type:"checkbox",id:"setting-modal",class:"modal-toggle"},null,-1),Se={class:"modal modal-bottom sm:modal-middle"},_e={class:"modal-box relative"},xe=(0,r._)("label",{for:"setting-modal",class:"btn btn-error btn-sm btn-circle btn-ghost absolute right-2 top-2 text-error"},"✕",-1),Ue=(0,r._)("div",{class:"divider text-xl"},"Setting",-1),Te=(0,r._)("p",{class:"text-base py-2"},"Choose Theme.",-1),Ce={class:"flex flex-col gap-1"},Ae=["data-theme"],He={class:"flex flex-row gap-1"},De=(0,r._)("span",{class:"aspect-square w-5 text-center bg-primary text-primary-content"},"A",-1),Ie=(0,r._)("span",{class:"aspect-square w-5 text-center bg-secondary text-secondary-content"},"A",-1),Me=(0,r._)("span",{class:"aspect-square w-5 text-center bg-accent text-accent-content"},"A",-1),ze=(0,r._)("span",{class:"aspect-square w-5 text-center bg-neutral text-neutral-content"},"A",-1),Le={class:"label-text capitalize"},Be=["value","checked"],Pe=(0,r._)("div",{class:"divider"},null,-1),Oe=(0,r._)("p",{class:"text-base py-2"},"Load Story From Backup.",-1),je=(0,r._)("p",{class:"text-base py-2"},"Create Backup Of An Entire Story.",-1),Ne=(0,r._)("p",{class:"text-base py-2"},"Load Entire Story From Backup.",-1),We=(0,r.uE)('<input type="checkbox" id="about-modal" class="modal-toggle"><div class="modal modal-bottom sm:modal-middle"><div class="modal-box relative"><label for="about-modal" class="btn btn-error btn-sm btn-circle btn-ghost absolute right-2 top-2 text-error">✕</label><p class="p-1 mt-2">TweezeL Is A Free Tools For Creating Twine Games Focused For Android. But It Quite Works Well On Any Device With Browser On It. :3.</p><p class="p-1 mt-2">The Feature Is Not Good Like Twine Or Tweego. But At Least It&#39;s Device Friendly Than Twine. And User Friendly Than Tweego. :)</p><p class="p-1 mt-2">Now This Tools Already Support All Official Listed Story Formats On Twine 2 Tools. Such As Chapbook, Harlowe, Snowman, And Sugarcube.</p><p class="p-1 mt-2">If You Don&#39;t Know What To Choose For Your Game Story Formats. Just Create A New Story. Set The StoryFormats On The Story Global Setting.<br> And Play The Story. Try All The StoryFormats One By One. Till U Find It Perfect For Your Game.<br> Also. Every StoryFormats Has It&#39;s Own Documentations. If U Plan For Longer Gameplay For Your Game. Think About This StoryFormats Seriously. :3.<br> My Personal Recomendations Is... <b>Sugarcube 2</b>...</p><p class="p-1 mt-2">This Tools Is More Or Less Like Tweego But With GUI. For Those Who Never Code Twine Games With Tweego And Wanna Try This Tools.<br> Just Create A New Story To Read Some Very Basic Tutorial :).<br> Or <a class="text-primary-content underline" href="https://www.youtube.com/playlist?list=PLb4OE-UTEU-86vltmWTJTBkbYEWbGSebe" target="_blank" rel="noopener noreferrer">Go To Here.</a> It&#39;s My Youtube Playlist. Some Video About This Project. Like Basic Tutorial And Such Things.</p><label for="about-modal" class="btn btn-success btn-block btn-sm mt-2">Happy Creating !.</label></div></div>',2);var Fe={__name:"MainView",setup(e){const t=i(),o=(0,n.iH)(""),a=(0,n.iH)(!1),c=(0,n.iH)("story"),u=(0,n.iH)(t.story),d=(0,n.iH)(t.themeList),p=(0,n.iH)(!1),m=(0,n.iH)(null),b=(0,n.iH)(null),h=(0,n.iH)(null),g=(0,k.RN)({position:"top",duration:2e3,dismissible:!0});let f=(0,n.iH)("");function w(){t.themeList=["garden","business","wireframe","black","valentine","retro","fantasy","pastel","autumn","winter"],g.show("Refresh The App To See The Changes...",{type:"success"})}function S(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}function _(){return S().toString().toUpperCase()}function x(){if(o.value.length<1)g.show("Story Name Is Required...",{type:"error"});else{let e=_(),l={title:o.value,ifid:e,startNode:"1",userStyle:"/* Design Your Styling In Here */",userScript:"// Type Your Own Javascript In Here",storyformats:"sugarcube-2",passage:[{name:"start",pid:"1",data:'This Is Your Start Passage.\nQuick Tips.\nTo Add Link / Ways To Other Passage Use\n[[about]] <- This Display "about", When Clicked Go To "about" Passage.\n[[This Is About|about]] <- This Display "This Is About", When Clicked Go To "about" Passage.'},{name:"about",pid:"2",data:'This Is Your About Passage\nTry To Link From Here To "start" Just Use Like In The [[start]] Passage.\nBeware Of Passage Link That Leads To Nowhere !. Like This -> [[pit]] Or [[Go To Pit|pit]].\nTo Fix That, Try To Add A New Passage And Name It "pit".'}]};t.story.push(l),a.value=!1,o.value=""}}function U(e){t.story=u.value.filter((t=>t.ifid!==e)),u.value=t.story}function T(e){let t=!1;return e.title&&e.ifid&&e.startNode&&e.passage&&(t=!0),t}function C(){let e=document.getElementById("jsonfileinput").files[0];if(void 0!=e){let o=new FileReader;o.onload=function(e){let o=e.target.result,l=JSON.parse(o);T(l)&&t.story.push(l),c.value="story"},o.readAsText(e)}}function H(){let e=document.getElementById("jsonwholestoryfileinput").files[0];if(void 0!=e){let o=new FileReader;o.onload=function(e){let o=e.target.result,l=JSON.parse(o);if(l.length>0)for(let a=0;a<l.length;a++)T(l[a])&&t.story.push(l[a]);c.value="story"},o.readAsText(e)}}function D(e){t.theme=e.target.value}function I(e,t){const o=["January","February","March","April","May","June","July","August","September","October","November","December"],l=new Date;var a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",e+" "+l.getDate()+" "+o[l.getMonth()]+" "+l.getFullYear()+".tweezeldata"),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}function M(){var e=0;for(var t in window.localStorage)window.localStorage.hasOwnProperty(t)&&(e+=t.length+localStorage.getItem(t).length);return e}function z(){var e=10485760,t=0,o=0,l="testQuota",a=2e4,r=(new Date).getTime(),s=0;let n=0;do{n=(new Date).getTime()-r;try{o=Math.floor((e+t)/2),localStorage.setItem(l,String("1").repeat(o)),t=o}catch(i){e=o-1}}while(e-t>1&&n<a);return localStorage.removeItem(l),p.value=!1,n>=a&&console.log("Unused Space Calculation May Be Off Due To Timeout."),s=o+l.length-1,s}function L(){p.value=!0;var e=z(),o=M(),l=e+o;return t.currentStorage=o,t.maxStorage=l,l}t.groupState="",window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),h.value=e})),window.addEventListener("appinstalled",(()=>{h.value=null}));let B=(0,r.Fl)((()=>""===f.value?u.value:u.value.filter((e=>e.title.toLowerCase().replace(/\s+/g,"").includes(f.value.toLowerCase().replace(/\s+/g,""))))));return(e,a)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",{class:"flex flex-col h-screen",style:(0,s.j5)({height:(0,n.SU)(t).innerHeight+"px"})},[(0,r._)("div",N,[W,(0,r._)("div",F,[(0,r._)("label",q,(0,s.zw)(Math.round((0,n.SU)(t).currentStorage/(0,n.SU)(t).maxStorage*100))+"%",1)]),(0,r._)("div",E,[V,(0,r._)("ul",Y,[R,G,h.value?((0,r.wg)(),(0,r.iD)("li",J,[(0,r._)("label",{onClick:a[0]||(a[0]=e=>h.value.prompt())},"Install")])):(0,r.kq)("",!0)])])]),(0,r._)("div",$,[(0,r._)("label",K,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>(0,n.dq)(f)?f.value=e:f=e),type:"text",placeholder:"Search",class:"input input-bordered input-xs grow"},null,512),[[l.nr,(0,n.SU)(f)]]),(0,r._)("span",{onClick:a[2]||(a[2]=e=>(0,n.dq)(f)?f.value="":f=""),class:"cursor-pointer"},[(0,n.SU)(f).length>0?((0,r.wg)(),(0,r.iD)("svg",Z,X)):((0,r.wg)(),(0,r.iD)("svg",ee,oe))])])]),(0,r._)("div",le,[(0,r._)("div",ae,[(0,n.SU)(B).length>0?((0,r.wg)(),(0,r.j4)((0,n.SU)(v()),{key:0,list:(0,n.SU)(B),handle:".handle","item-key":"title"},{item:(0,r.w5)((({element:e,index:t})=>[(0,r._)("div",re,[0==(0,n.SU)(f).length?((0,r.wg)(),(0,r.iD)("div",se,ie)):(0,r.kq)("",!0),(0,r._)("div",ce,[(0,r._)("div",ue,[de,(0,r._)("ul",pe,[(0,r._)("li",null,[(0,r._)("button",{onClick:t=>U(e.ifid),class:"bg-error text-error-content"}," Delete ",8,me)])])])]),(0,r.Wm)((0,n.SU)(y.rH),{to:`/story/${e.ifid}`,class:"py-4 static w-full px-12 truncate"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,s.zw)(e.title),1)])),_:2},1032,["to"])])])),_:1},8,["list"])):(0,r.kq)("",!0)])])],4),be,he,(0,r._)("div",ge,[(0,r._)("div",fe,[ye,we,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>o.value=e),type:"text",placeholder:"Story Title",class:"input input-bordered w-full"},null,512),[[l.nr,o.value]]),(0,r._)("div",ve,[(0,r._)("label",{onClick:a[4]||(a[4]=e=>x()),for:"create-modal",class:"btn btn-success"},"Start Creating !.")])])]),ke,(0,r._)("div",Se,[(0,r._)("div",_e,[xe,Ue,Te,(0,r._)("div",Ce,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(d.value,((e,o)=>((0,r.wg)(),(0,r.iD)("div",{key:o,class:"form-control"},[(0,r._)("label",{class:"label cursor-pointer bg-base-100 rounded-md p-2","data-theme":e},[(0,r._)("div",He,[De,Ie,Me,ze,(0,r._)("span",Le,(0,s.zw)(e),1)]),(0,r._)("input",{type:"radio",name:"theme-radio",class:"radio",value:e,onChange:a[5]||(a[5]=e=>D(e)),checked:(0,n.SU)(t).theme===e},null,40,Be)],8,Ae)])))),128))]),(0,r._)("button",{onClick:a[6]||(a[6]=e=>w()),class:"btn btn-primary btn-block btn-sm mt-2"},"Refresh Theme List ?."),Pe,Oe,(0,r._)("button",{onClick:a[7]||(a[7]=e=>m.value.click()),class:"btn btn-primary btn-block btn-sm"},"Choose Story Backup To Load."),(0,r._)("input",{onChange:C,class:"h-0 w-0",type:"file",id:"jsonfileinput",ref_key:"loadStory",ref:m,accept:".tweezeldata"},null,544),je,(0,r._)("button",{onClick:a[8]||(a[8]=e=>I("TweezeL Backup",JSON.stringify((0,n.SU)(t).story))),class:"btn btn-primary btn-block btn-sm"},"Backup The Entire Story."),Ne,(0,r._)("button",{onClick:a[9]||(a[9]=e=>b.value.click()),class:"btn btn-primary btn-block btn-sm"},"Choose Whole Story Backup To Load."),(0,r._)("input",{onChange:H,class:"h-0 w-0",type:"file",id:"jsonwholestoryfileinput",ref_key:"loadWholeStory",ref:b,accept:".tweezeldata"},null,544)])]),We,(0,r.Wm)((0,n.SU)(j),{idProps:"limit-modal",modalAction:[{className:"btn btn-primary",closeOnClick:!0,label:"Check Storage.",onPress:L},{className:"btn btn-success",closeOnClick:!0,label:"Close."}]},{children:(0,r.w5)((()=>[(0,r.Wm)((0,n.SU)(A))])),_:1},8,["modalAction"])],64))}};const qe=Fe;var Ee=qe;const Ve={class:"navbar bg-primary shadow-lg text-primary-content"},Ye=(0,r._)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5 self-center m-2"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75"})],-1),Re=[Ye],Ge={class:"grow truncate"},Je={class:"normal-case text-xl truncate font-semibold"},$e=(0,r._)("button",{tabindex:"0",class:"btn btn-ghost btn-square m-1"},[(0,r._)("svg",{class:"h-5 w-5 self-center m-2",viewBox:"0 0 20 20",fill:"currentColor"},[(0,r._)("path",{"fill-rule":"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z","clip-rule":"evenodd"})])],-1),Ke={class:"form-control p-2"},Ze={class:"input-group input-group-xs w-full"},Qe={key:0,class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Xe=(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1),et=[Xe],tt={key:1,class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ot=(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1),lt=[ot],at={class:"w-full grow p-2 overflow-auto flex flex-col"},rt={class:"grow overflow-auto pb-[69px]"},st={class:"relative flex items-center transition-all hover:bg-black/20"},nt={key:0,class:"handle absolute left-3 cursor-move"},it=(0,r._)("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[(0,r._)("path",{"fill-rule":"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"})],-1),ct=[it],ut={class:"flex absolute right-3"},dt={class:"dropdown dropdown-end"},pt=(0,r._)("label",{tabindex:"0",class:"btn btn-ghost btn-sm"},[(0,r._)("svg",{fill:"none",viewBox:"0 0 24 24",class:"inline-block w-5 h-5 stroke-current"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})])],-1),mt={tabindex:"0",class:"dropdown-content menu menu-compact p-2 bg-base-100 rounded-box shadow-xl"},bt=["onClick"],ht={class:"absolute bottom-5 right-5 flex flex-row gap-5"},gt=(0,r._)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 13.5l3 3m0 0l3-3m-3 3v-6m1.06-4.19l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"})],-1),ft=[gt],yt=(0,r._)("svg",{class:"h-6 w-6 self-center m-2",viewBox:"0 0 20 20",fill:"currentColor"},[(0,r._)("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z","clip-rule":"evenodd"})],-1),wt=[yt],vt=(0,r._)("label",{for:"create-modal",class:"btn btn-primary btn-circle cursor-pointer"},[(0,r._)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])],-1),kt=(0,r._)("input",{type:"checkbox",id:"create-modal",class:"modal-toggle"},null,-1),St={class:"modal modal-bottom sm:modal-middle"},_t={class:"modal-box relative"},xt=(0,r._)("label",{for:"create-modal",class:"btn btn-error btn-sm btn-circle btn-ghost absolute right-2 top-2 text-error"},"✕",-1),Ut=(0,r._)("h3",{class:"font-bold text-lg mb-4"},"Passage Name...",-1),Tt={class:"modal-action"};var Ct={__name:"StoryView",setup(e){const t=i(),o=(0,y.yj)(),a=(0,n.iH)(!1),c=(0,n.iH)(""),u=((0,n.iH)(""),o.params.id),d=e=>e.ifid==u,p=t.story.findIndex(d),m=(0,n.iH)(t.story[p].passage),b=(0,k.RN)({position:"top",duration:2e3,dismissible:!0});let h=(0,n.iH)("");(0,n.iH)("");function g(e){var o=!1;for(let l=0;l<t.story[p].passage.length;l++)t.story[p].passage[l].name==e&&(o=!0);return o}function f(){if(c.value.length<1)b.show("Passage Name Is Required...",{type:"error"});else if(g(c.value))c.value="",b.show("Passage Name Already Exist...",{type:"error"});else{let e=1,o=[];for(let l=0;l<t.story[p].passage.length;l++)o.push(t.story[p].passage[l].pid);o.sort((function(e,t){return e-t}));for(let t=0;t<o.length;t++)o[t]==e&&e++;t.story[p].passage.push({name:c.value,pid:e.toString(),data:"Edit Your New Passage..."}),a.value=!1,c.value=""}}function w(e){t.story[p].passage=m.value.filter((t=>t.pid!==e)),m.value=t.story[p].passage}t.storyId=p;let S=(0,r.Fl)((()=>""===h.value?m.value:m.value.filter((e=>e.name.toLowerCase().replace(/\s+/g,"").includes(h.value.toLowerCase().replace(/\s+/g,""))))));return(e,o)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",{class:"flex flex-col h-screen",style:(0,s.j5)({height:(0,n.SU)(t).innerHeight+"px"})},[(0,r._)("div",Ve,[(0,r._)("button",{tabindex:"0",class:"btn btn-ghost btn-square",onClick:o[0]||(o[0]=t=>e.$router.back())},Re),(0,r._)("div",Ge,[(0,r._)("div",Je,(0,s.zw)((0,n.SU)(t).story[(0,n.SU)(p)].title),1)]),(0,r.Wm)((0,n.SU)(y.rH),{to:`/story/${(0,n.SU)(u)}/global`},{default:(0,r.w5)((()=>[$e])),_:1},8,["to"])]),(0,r._)("div",Ke,[(0,r._)("label",Ze,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>(0,n.dq)(h)?h.value=e:h=e),type:"text",placeholder:"Search",class:"input input-bordered input-xs grow"},null,512),[[l.nr,(0,n.SU)(h)]]),(0,r._)("span",{onClick:o[2]||(o[2]=e=>(0,n.dq)(h)?h.value="":h=""),class:"cursor-pointer"},[(0,n.SU)(h).length>0?((0,r.wg)(),(0,r.iD)("svg",Qe,et)):((0,r.wg)(),(0,r.iD)("svg",tt,lt))])])]),(0,r._)("div",at,[(0,r._)("div",rt,[(0,n.SU)(S).length>0?((0,r.wg)(),(0,r.j4)((0,n.SU)(v()),{key:0,list:(0,n.SU)(S),handle:".handle","item-key":"pid"},{item:(0,r.w5)((({element:e,index:o})=>[(0,r._)("div",st,[0==(0,n.SU)(h).length?((0,r.wg)(),(0,r.iD)("div",nt,ct)):(0,r.kq)("",!0),(0,r._)("div",ut,[(0,r._)("div",dt,[pt,(0,r._)("ul",mt,[(0,r._)("li",null,[(0,r._)("button",{onClick:t=>w(e.pid),class:"bg-error text-error-content"}," Delete ",8,bt)])])])]),(0,r.Wm)((0,n.SU)(y.rH),{to:`/story/${(0,n.SU)(t).story[(0,n.SU)(p)].ifid}/edit/${e.pid}`,class:"py-4 static w-full px-12 truncate"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,s.zw)(e.name),1)])),_:2},1032,["to"])])])),_:1},8,["list"])):(0,r.kq)("",!0)])])],4),(0,r._)("div",ht,[(0,r.Wm)((0,n.SU)(y.rH),{to:`/story/${(0,n.SU)(u)}/play`},{default:(0,r.w5)((()=>[(0,r._)("button",{class:"btn btn-primary btn-circle cursor-pointer",onClick:o[3]||(o[3]=e=>(0,n.SU)(t).playState="export")},ft)])),_:1},8,["to"]),(0,r.Wm)((0,n.SU)(y.rH),{to:`/story/${(0,n.SU)(u)}/play`},{default:(0,r.w5)((()=>[(0,r._)("button",{class:"btn btn-primary btn-circle cursor-pointer",onClick:o[4]||(o[4]=e=>(0,n.SU)(t).playState="play")},wt)])),_:1},8,["to"]),vt]),kt,(0,r._)("div",St,[(0,r._)("div",_t,[xt,Ut,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":o[5]||(o[5]=e=>c.value=e),type:"text",placeholder:"Passage Name",class:"input input-bordered w-full"},null,512),[[l.nr,c.value]]),(0,r._)("div",Tt,[(0,r._)("label",{onClick:o[6]||(o[6]=e=>f()),for:"create-modal",class:"btn btn-success"},"Add Passage.")])])])],64))}};const At=Ct;var Ht=At,Dt=o(5357),It=o(5406);const Mt={class:"navbar bg-primary shadow-lg text-primary-content"},zt=(0,r._)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5 self-center m-2"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75"})],-1),Lt=[zt],Bt=(0,r._)("div",{class:"grow truncate"},[(0,r._)("button",{class:"btn btn-ghost normal-case px-0 text-xl m-1"},"Editing Passage")],-1),Pt={class:"w-full px-2 pb-2 flex flex-col h-full gap-2"},Ot={class:"form-control"},jt=(0,r._)("label",{class:"label"},[(0,r._)("span",{class:"label-text"},"Passage Names")],-1),Nt={class:"input-group input-group-xs w-full"},Wt=(0,r._)("span",null,"Set",-1),Ft=[Wt];var qt={__name:"StoryEdit",setup(e){const t=[It.vk],o=i(),a=(0,y.yj)(),c=a.params.id,u=e=>e.ifid==c,d=o.story.findIndex(u),p=a.params.pid,m=e=>e.pid==p,b=o.story[d].passage.findIndex(m),h=(0,n.iH)(o.story[d].passage[b].name),g=(0,n.iH)(h.value),f=(0,n.iH)(o.story[d].passage),w=(0,k.RN)({position:"top",duration:2e3,dismissible:!0});let v=f.value.map((function(e){return e.name}));function S(e){let t=0;v.forEach((function(o){o==e&&(t+=1)})),0==t?(o.story[d].passage[b].name=e,w.show("Success Changing Passage Name...",{type:"success"}),h.value=e,g.value=e):w.show("Passage Name Is Alreadys Exist Or Empty...",{type:"error"})}return(e,a)=>((0,r.wg)(),(0,r.iD)("div",{class:"h-screen flex flex-col",style:(0,s.j5)({height:(0,n.SU)(o).innerHeight+"px"})},[(0,r._)("div",Mt,[(0,r._)("button",{tabindex:"0",class:"btn btn-ghost btn-square",onClick:a[0]||(a[0]=t=>e.$router.back())},Lt),Bt]),(0,r._)("div",Pt,[(0,r._)("div",Ot,[jt,(0,r._)("label",Nt,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>g.value=e),type:"text",placeholder:"Passage Title Must Not Empty",class:"input input-bordered input-xs grow"},null,512),[[l.nr,g.value]]),h.value!=g.value?((0,r.wg)(),(0,r.iD)("span",{key:0,onClick:a[2]||(a[2]=e=>S(g.value)),class:"cursor-pointer"},Ft)):(0,r.kq)("",!0)])]),(0,r.Wm)((0,n.SU)(Dt.Z1),{modelValue:(0,n.SU)(o).story[(0,n.SU)(d)].passage[(0,n.SU)(b)].data,"onUpdate:modelValue":a[3]||(a[3]=e=>(0,n.SU)(o).story[(0,n.SU)(d)].passage[(0,n.SU)(b)].data=e),placeholder:"Write The Code Here...",style:{"flex-grow":"1"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:t},null,8,["modelValue"])])],4))}};const Et=qt;var Vt=Et,Yt=o(9465),Rt=o(4937);const Gt={class:"navbar bg-primary shadow-lg text-primary-content"},Jt=(0,r._)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5 self-center m-2"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75"})],-1),$t=[Jt],Kt=(0,r._)("div",{class:"grow truncate"},[(0,r._)("button",{class:"btn btn-ghost normal-case px-0 text-xl m-1"},"Story Setting")],-1),Zt={class:"tabs tabs-boxed m-2"},Qt={key:0,class:"p-1 w-full grow overflow-auto px-2"},Xt={class:"form-control w-full"},eo=(0,r._)("label",{class:"label"},[(0,r._)("span",{class:"label-text"},"Story Title")],-1),to={class:"form-control w-full"},oo=(0,r._)("label",{class:"label"},[(0,r._)("span",{class:"label-text"},"Story Formats")],-1),lo=["value"],ao={class:"p-2"},ro={key:0},so=(0,r._)("a",{class:"text-primary underline",href:"https://klembot.github.io/chapbook/guide/",target:"_blank",rel:"noopener noreferrer"},"guide",-1),no={key:1},io=(0,r._)("a",{class:"text-primary underline",href:"https://twine2.neocities.org/",target:"_blank",rel:"noopener noreferrer"},"documentation",-1),co=(0,r._)("br",null,null,-1),uo=(0,r._)("br",null,null,-1),po={key:2},mo=(0,r._)("a",{class:"text-primary underline",href:"https://twine2.neocities.org/",target:"_blank",rel:"noopener noreferrer"},"documentation",-1),bo=(0,r._)("br",null,null,-1),ho=(0,r._)("br",null,null,-1),go={key:3},fo=(0,r._)("a",{class:"text-primary underline",href:"https://twine2.neocities.org/",target:"_blank",rel:"noopener noreferrer"},"documentation",-1),yo=(0,r._)("br",null,null,-1),wo=(0,r._)("br",null,null,-1),vo={key:4},ko=(0,r._)("a",{class:"text-primary underline",href:"https://videlais.github.io/snowman/2/",target:"_blank",rel:"noopener noreferrer"},"documentation",-1),So={key:5},_o=(0,r._)("a",{class:"text-primary underline",href:"https://videlais.github.io/snowman/1/",target:"_blank",rel:"noopener noreferrer"},"documentation",-1),xo={key:6},Uo=(0,r._)("a",{class:"text-primary underline",href:"http://www.motoslave.net/sugarcube/2/#documentation",target:"_blank",rel:"noopener noreferrer"},"documentation",-1),To=(0,r._)("br",null,null,-1),Co=(0,r._)("br",null,null,-1),Ao={key:7},Ho=(0,r._)("a",{class:"text-primary underline",href:"http://www.motoslave.net/sugarcube/1/#documentation",target:"_blank",rel:"noopener noreferrer"},"documentation",-1),Do=(0,r._)("br",null,null,-1),Io=(0,r._)("br",null,null,-1),Mo={key:8},zo=(0,r._)("div",{class:"divider m-0"},null,-1),Lo={class:"form-control w-full"},Bo=(0,r._)("label",{class:"label"},[(0,r._)("span",{class:"label-text"},"Story Will Start At : ")],-1),Po=["value"],Oo={class:"form-control w-full"},jo=(0,r._)("label",{class:"label"},[(0,r._)("span",{class:"label-text"},"IFID")],-1),No={key:1,class:"p-1 outline-none w-full grow flex flex-col"},Wo={key:2,class:"p-1 outline-none w-full grow flex flex-col"};var Fo={__name:"GlobalSettingStory",setup(e){const t=[It.vk,(0,Yt.iv)()],o=[It.vk,(0,Rt.eJ)()],a=i(),c=(0,y.yj)(),u=(0,n.iH)("setting"),d=c.params.id,p=e=>e.ifid==d,m=a.story.findIndex(p),b=(0,n.iH)(a.story[m].title),h=b.value,g=(0,n.iH)(a.story),f=(0,n.iH)([{name:"Chapbook 1.2.1",val:"chapbook-1"},{name:"Harlowe 3.2.3",val:"harlowe-3"},{name:"Harlowe 2.1.0",val:"harlowe-2"},{name:"Harlowe 1.2.4",val:"harlowe-1"},{name:"Snowman 2.0.2",val:"snowman-2"},{name:"Snowman 1.4.0",val:"snowman-1"},{name:"SugarCube 2.36.1",val:"sugarcube-2"},{name:"SugarCube 1.0.35",val:"sugarcube-1"}]);let w=g.value.map((function(e){return e.title}));function v(e){let t=0;w.forEach((function(o){o==e&&(t+=1)})),0==t&&(a.story[m].title=e)}function k(e,t){var o=document.createElement("a");o.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),o.setAttribute("download",e),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)}return(e,i)=>((0,r.wg)(),(0,r.iD)("div",{class:"h-screen flex flex-col",style:(0,s.j5)({height:(0,n.SU)(a).innerHeight+"px"})},[(0,r._)("div",Gt,[(0,r._)("button",{tabindex:"0",class:"btn btn-ghost btn-square",onClick:i[0]||(i[0]=t=>e.$router.back())},$t),Kt]),(0,r._)("div",Zt,[(0,r._)("button",{onClick:i[1]||(i[1]=e=>u.value="setting"),class:(0,s.C_)(["setting"==u.value?"tab-active":"","tab grow"])},"Setting",2),(0,r._)("button",{onClick:i[2]||(i[2]=e=>u.value="css"),class:(0,s.C_)(["css"==u.value?"tab-active":"","tab grow"])},"CSS",2),(0,r._)("button",{onClick:i[3]||(i[3]=e=>u.value="js"),class:(0,s.C_)(["js"==u.value?"tab-active":"","tab grow"])},"Javascript",2)]),"setting"==u.value?((0,r.wg)(),(0,r.iD)("div",Qt,[(0,r._)("div",Xt,[eo,(0,r.wy)((0,r._)("input",{onChange:i[4]||(i[4]=e=>v((0,n.SU)(h))),"onUpdate:modelValue":i[5]||(i[5]=e=>(0,n.dq)(h)?h.value=e:null),type:"text",placeholder:"Story Title Must Not Empty",class:"input input-bordered w-full"},null,544),[[l.nr,(0,n.SU)(h)]])]),(0,r._)("div",to,[oo,(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":i[6]||(i[6]=e=>(0,n.SU)(a).story[(0,n.SU)(m)].storyformats=e),class:"select select-bordered w-full"},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(f.value,((e,t)=>((0,r.wg)(),(0,r.iD)("option",{value:e.val,key:t},(0,s.zw)(e.name),9,lo)))),128))],512),[[l.bM,(0,n.SU)(a).story[(0,n.SU)(m)].storyformats]])]),(0,r._)("div",ao,["chapbook-1"==(0,n.SU)(a).story[(0,n.SU)(m)].storyformats?((0,r.wg)(),(0,r.iD)("div",ro,[(0,r.Uk)(" A Twine story format emphasizing ease of authoring, multimedia, and playability on many different types of devices. Visit the "),so,(0,r.Uk)(" for more information. ")])):(0,r.kq)("",!0),"harlowe-3"==(0,n.SU)(a).story[(0,n.SU)(m)].storyformats?((0,r.wg)(),(0,r.iD)("div",no,[(0,r.Uk)(" The default story format for Twine 2. Consult its "),io,(0,r.Uk)("."),co,uo,(0,r.Uk)(" License: Zlib ")])):(0,r.kq)("",!0),"harlowe-2"==(0,n.SU)(a).story[(0,n.SU)(m)].storyformats?((0,r.wg)(),(0,r.iD)("div",po,[(0,r.Uk)(" The default story format for Twine 2. See its "),mo,(0,r.Uk)("."),bo,ho,(0,r.Uk)(" License: Zlib ")])):(0,r.kq)("",!0),"harlowe-1"==(0,n.SU)(a).story[(0,n.SU)(m)].storyformats?((0,r.wg)(),(0,r.iD)("div",go,[(0,r.Uk)(" The default story format for Twine 2. See its "),fo,(0,r.Uk)("."),yo,wo,(0,r.Uk)(" License: Zlib ")])):(0,r.kq)("",!0),"snowman-2"==(0,n.SU)(a).story[(0,n.SU)(m)].storyformats?((0,r.wg)(),(0,r.iD)("div",vo,[(0,r.Uk)(" A minimal story format for authors more experienced with HTML, CSS, and JavaScript. See its "),ko,(0,r.Uk)(". ")])):(0,r.kq)("",!0),"snowman-1"==(0,n.SU)(a).story[(0,n.SU)(m)].storyformats?((0,r.wg)(),(0,r.iD)("div",So,[(0,r.Uk)(" A minimal story format for authors more experienced with HTML, CSS, and JavaScript. See its "),_o,(0,r.Uk)(". ")])):(0,r.kq)("",!0),"sugarcube-2"==(0,n.SU)(a).story[(0,n.SU)(m)].storyformats?((0,r.wg)(),(0,r.iD)("div",xo,[(0,r.Uk)(" A full featured, highly customizable story format. See its "),Uo,(0,r.Uk)("."),To,Co,(0,r.Uk)(" License: BSD-2-Clause ")])):(0,r.kq)("",!0),"sugarcube-1"==(0,n.SU)(a).story[(0,n.SU)(m)].storyformats?((0,r.wg)(),(0,r.iD)("div",Ao,[(0,r.Uk)(" A Twine 2 port of the Twine 1 story format by the same name. See its "),Ho,(0,r.Uk)("."),Do,Io,(0,r.Uk)(" License: Simplified BSD License ")])):(0,r.kq)("",!0),(0,n.SU)(a).story[(0,n.SU)(m)].storyformats?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",Mo," Choose Story Formats. To See It's Descriptions And Link To It's Documentations. "))]),zo,(0,r._)("div",Lo,[Bo,(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":i[7]||(i[7]=e=>(0,n.SU)(a).story[(0,n.SU)(m)].startNode=e),class:"select select-bordered w-full"},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,n.SU)(a).story[(0,n.SU)(m)].passage,((e,t)=>((0,r.wg)(),(0,r.iD)("option",{value:e.pid,key:t},(0,s.zw)(e.name),9,Po)))),128))],512),[[l.bM,(0,n.SU)(a).story[(0,n.SU)(m)].startNode]])]),(0,r._)("div",Oo,[jo,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":i[8]||(i[8]=e=>(0,n.SU)(a).story[(0,n.SU)(m)].ifid=e),disabled:"",type:"text",class:"input input-disabled input-bordered w-full"},null,512),[[l.nr,(0,n.SU)(a).story[(0,n.SU)(m)].ifid]])]),(0,r._)("button",{onClick:i[9]||(i[9]=e=>k((0,n.SU)(a).story[(0,n.SU)(m)].title+".tweezeldata",JSON.stringify((0,n.SU)(a).story[(0,n.SU)(m)]))),class:"btn btn-primary btn-block my-3"},"Backup This Story.")])):(0,r.kq)("",!0),"css"==u.value?((0,r.wg)(),(0,r.iD)("div",No,[(0,r.Wm)((0,n.SU)(Dt.Z1),{modelValue:(0,n.SU)(a).story[(0,n.SU)(m)].userStyle,"onUpdate:modelValue":i[10]||(i[10]=e=>(0,n.SU)(a).story[(0,n.SU)(m)].userStyle=e),placeholder:"Write The Code Here...",style:{"flex-grow":"1"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:t},null,8,["modelValue"])])):(0,r.kq)("",!0),"js"==u.value?((0,r.wg)(),(0,r.iD)("div",Wo,[(0,r.Wm)((0,n.SU)(Dt.Z1),{modelValue:(0,n.SU)(a).story[(0,n.SU)(m)].userScript,"onUpdate:modelValue":i[11]||(i[11]=e=>(0,n.SU)(a).story[(0,n.SU)(m)].userScript=e),placeholder:"Write The Code Here...",style:{"flex-grow":"1"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:o},null,8,["modelValue"])])):(0,r.kq)("",!0)],4))}};const qo=Fo;var Eo=qo;const Vo={key:0,class:"p-2"},Yo={key:1,class:"grow flex flex-col"},Ro={class:"grow flex flex-col bg-white relative"},Go=(0,r._)("div",{class:"absolute bottom-0 left-0"},[(0,r._)("label",{for:"close-modal",tabindex:"0",class:"btn btn-ghost btn-square btn-xs bg-black/20"},[(0,r._)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-3 h-3 text-white"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])])],-1),Jo=["srcdoc"],$o={class:"grow flex flex-col"},Ko={class:"navbar bg-primary shadow-lg text-primary-content"},Zo=(0,r._)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5 self-center m-2"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75"})],-1),Qo=[Zo],Xo=(0,r._)("div",{class:"grow truncate"},[(0,r._)("div",{class:"normal-case text-xl truncate px-0 font-semibold"},"Play Story")],-1),el={key:0,class:"p-4"},tl={key:1,class:"p-4"},ol=(0,r._)("div",{class:"alert alert-success shadow-lg"},[(0,r._)("div",null,[(0,r._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current flex-shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),(0,r._)("span",null,"Export Completed...")])],-1),ll=[ol],al=(0,r._)("input",{type:"checkbox",id:"close-modal",class:"modal-toggle"},null,-1),rl={class:"modal modal-bottom sm:modal-middle"},sl={class:"modal-box relative"},nl=(0,r._)("label",{for:"close-modal",class:"btn btn-error btn-sm btn-circle btn-ghost absolute right-2 top-2 text-error"},"✕",-1),il=(0,r._)("h3",{class:"font-bold text-lg mb-4"},"Quit Preview...???",-1),cl={class:"modal-action"},ul=(0,r._)("label",{for:"close-modal",class:"btn btn-ghost"},"No.",-1);var dl={__name:"PlayStory",setup(e){const t=i(),a=(0,y.yj)(),c=a.params.id,u=e=>e.ifid==c,d=t.story.findIndex(u),p=new URL(o(9466),o.b).href,m=new URL(o(8301),o.b).href,b=new URL(o(5002),o.b).href,h=new URL(o(4179),o.b).href,g=new URL(o(3412),o.b).href,f=new URL(o(145),o.b).href,w=new URL(o(2519),o.b).href,v=new URL(o(2596),o.b).href,k=(0,n.iH)(""),S=(0,n.iH)(!1),_=(0,n.iH)(!0);sessionStorage.clear();const x=(0,n.iH)([]);function U(e){let o="",l="";for(let r=0;r<t.story[d].passage.length;r++){let e=t.story[d].passage[r].data,a=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;");l='<tw-passagedata pid="'+t.story[d].passage[r].pid+'" name="'+t.story[d].passage[r].name+'" tags="" position="100,100" size="100,100">'+a+"</tw-passagedata>",o+=l}let a=e.replace(/tweezelStoryTitle/g,t.story[d].title).replace(/tweezelStoryIfid/g,t.story[d].ifid).replace(/tweezelStoryStartNode/g,t.story[d].startNode).replace(/tweezelStoryUserStyle/g,t.story[d].userStyle).replace(/tweezelStoryUserScript/g,t.story[d].userScript).replace(/tweezelStoryPassage/g,o).replace(/tweezelVersion/g,"1.2.1");k.value=a}function T(){_.value=!1,"play"==t.playState&&(S.value=!0)}function C(){let e=document.createElement("a");e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(k.value)),e.setAttribute("download",t.story[d].title+".html"),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}return 0==t.story[d].passage.length&&x.value.push("No Passage To Play With. Add Some Passage First."),t.story[d].storyformats||x.value.push("Story Formats Is Not Set. Set First In Global Story Setting."),"chapbook-1"==t.story[d].storyformats?fetch(p).then((e=>e.text())).then((e=>{U(e)})):"harlowe-1"==t.story[d].storyformats?fetch(m).then((e=>e.text())).then((e=>{U(e)})):"harlowe-2"==t.story[d].storyformats?fetch(b).then((e=>e.text())).then((e=>{U(e)})):"harlowe-3"==t.story[d].storyformats?fetch(h).then((e=>e.text())).then((e=>{U(e)})):"snowman-1"==t.story[d].storyformats?fetch(g).then((e=>e.text())).then((e=>{U(e)})):"snowman-2"==t.story[d].storyformats?fetch(f).then((e=>e.text())).then((e=>{U(e)})):"sugarcube-1"==t.story[d].storyformats?fetch(w).then((e=>e.text())).then((e=>{U(e)})):"sugarcube-2"==t.story[d].storyformats&&fetch(v).then((e=>e.text())).then((e=>{U(e)})),(0,r.YP)((()=>k.value),(e=>{0!==e.length&&"export"===t.playState&&C()})),(e,o)=>((0,r.wg)(),(0,r.iD)("div",{class:"flex h-screen overflow-auto flex-col",style:(0,s.j5)({height:(0,n.SU)(t).innerHeight+"px"})},[x.value.length>0?((0,r.wg)(),(0,r.iD)("div",Vo,[(0,r.Uk)(" There Is Some Error In Your Story. Here Is The Error(s) : "),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(x.value,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t},(0,s.zw)(t+1)+". "+(0,s.zw)(e),1)))),128)),(0,r._)("span",{class:"text-primary-content underline",onClick:o[0]||(o[0]=t=>e.$router.back())},"Click Here To Go Back.")])):((0,r.wg)(),(0,r.iD)("div",Yo,[(0,r.wy)((0,r._)("div",Ro,[Go,(0,r._)("iframe",{id:"storyWindow",class:"grow",srcdoc:k.value,onLoad:o[1]||(o[1]=e=>T())},null,40,Jo)],512),[[l.F8,S.value]]),(0,r.wy)((0,r._)("div",$o,[(0,r._)("div",Ko,[(0,r._)("button",{tabindex:"0",class:"btn btn-ghost btn-square",onClick:o[2]||(o[2]=t=>e.$router.back())},Qo),Xo]),_.value?((0,r.wg)(),(0,r.iD)("div",el,"Loading The Game... Please Wait A Bit...")):((0,r.wg)(),(0,r.iD)("div",tl,ll))],512),[[l.F8,!S.value]])])),al,(0,r._)("div",rl,[(0,r._)("div",sl,[nl,il,(0,r._)("div",cl,[ul,(0,r._)("label",{onClick:o[3]||(o[3]=t=>e.$router.back()),for:"create-modal",class:"btn btn-success"},"Yes.")])])])],4))}};const pl=dl;var ml=pl;const bl=(0,y.p7)({history:(0,y.PO)("/"),routes:[{path:"/",name:"home",component:Ee},{path:"/story/:id",name:"story",component:Ht},{path:"/story/:id/edit/:pid",name:"edit story",component:Vt},{path:"/story/:id/global",name:"global setting",component:Eo},{path:"/story/:id/play",name:"play story",component:ml},{path:"/:pathMatch(.*)*",name:"NotFound",component:Ee}]});var hl=bl,gl=o(8602);const fl=(0,l.ri)(g),yl=(0,a.WB)();yl.use(gl.Z),fl.use(yl),fl.use(hl),fl.mount("#app")},9466:function(e,t,o){e.exports=o.p+"1f9a610d783297bd.txt"},8301:function(e,t,o){e.exports=o.p+"ebaefe6fcddf90ed.txt"},5002:function(e,t,o){e.exports=o.p+"452261ecc54653bf.txt"},4179:function(e,t,o){e.exports=o.p+"a328849ba54241ad.txt"},3412:function(e,t,o){e.exports=o.p+"1e75169c4cb4e109.txt"},145:function(e,t,o){e.exports=o.p+"e164277f2de50930.txt"},2519:function(e,t,o){e.exports=o.p+"295473832eb146c1.txt"},2596:function(e,t,o){e.exports=o.p+"a7c3d2dedda99c3c.txt"}},t={};function o(l){var a=t[l];if(void 0!==a)return a.exports;var r=t[l]={exports:{}};return e[l].call(r.exports,r,r.exports,o),r.exports}o.m=e,function(){var e=[];o.O=function(t,l,a,r){if(!l){var s=1/0;for(u=0;u<e.length;u++){l=e[u][0],a=e[u][1],r=e[u][2];for(var n=!0,i=0;i<l.length;i++)(!1&r||s>=r)&&Object.keys(o.O).every((function(e){return o.O[e](l[i])}))?l.splice(i--,1):(n=!1,r<s&&(s=r));if(n){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[l,a,r]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var l in t)o.o(t,l)&&!o.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){o.b=document.baseURI||self.location.href;var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,l){var a,r,s=l[0],n=l[1],i=l[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(a in n)o.o(n,a)&&(o.m[a]=n[a]);if(i)var u=i(o)}for(t&&t(l);c<s.length;c++)r=s[c],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(u)},l=self["webpackChunktweezel"]=self["webpackChunktweezel"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=o.O(void 0,[998],(function(){return o(5864)}));l=o.O(l)})();
//# sourceMappingURL=app.e589afd8.js.map