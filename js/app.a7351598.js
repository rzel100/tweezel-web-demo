(function(){"use strict";var e={8952:function(e,t,o){var a=o(9242),l=o(1020),r=o(3396),s=o(7139),n=o(4870);const i=(0,l.Q_)({id:"story",state:()=>({counter:0,storyId:0,story:[],group:[],groupState:"",playState:"play",isWrap:!1,askInstall:!0,innerHeight:0,playedStory:[],theme:"business",themeList:["garden","business","wireframe","black","valentine","retro","fantasy","pastel","autumn","winter"],maxStorage:0,currentStorage:0}),getters:{doubleCount:e=>2*e.counter},actions:{increment(){this.counter++}},persist:!0}),c=["data-theme"],u={key:0,class:"absolute bottom-0 w-full flex justify-center items-center p-2 z-50"},d={class:"alert alert-success shadow-lg"},p=(0,r._)("div",null,[(0,r._)("span",null,"Install TweezeL To Ur Device !. It Doesn't Take Storage And Work Offline !.")],-1),m={class:"flex-none"};var b={__name:"App",setup(e){const t=i(),o=(0,n.iH)(null),a=(0,n.iH)(t.maxStorage<1);window.addEventListener("beforeinstallprompt",(e=>{t.askInstall&&(e.preventDefault(),o.value=e)})),window.addEventListener("appinstalled",(()=>{o.value=null})),window.addEventListener("resize",(()=>{t.innerHeight=window.innerHeight}));const l=()=>{o.value=null,t.askInstall=!1};function b(){var e=0;for(var t in window.localStorage)window.localStorage.hasOwnProperty(t)&&(e+=t.length+localStorage.getItem(t).length);return e}function h(){var e=10485760,t=0,o=0,a="testQuota",l=2e4,r=(new Date).getTime(),s=0;let n=0;do{n=(new Date).getTime()-r;try{o=Math.floor((e+t)/2),localStorage.setItem(a,String("1").repeat(o)),t=o}catch(i){e=o-1}}while(e-t>1&&n<l);return localStorage.removeItem(a),n>=l&&console.log("Unused Space Calculation May Be Off Due To Timeout."),s=o+a.length-1,s}function g(){var e=h(),o=b(),l=e+o;return t.currentStorage=o,t.maxStorage=l,a.value=!1,l}return t.innerHeight=window.innerHeight,a.value?g():t.currentStorage=b(),(e,a)=>{const i=(0,r.up)("RouterView");return(0,r.wg)(),(0,r.iD)("div",{class:"font-sans h-screen relative",style:(0,s.j5)({height:(0,n.SU)(t).innerHeight+"px"}),"data-theme":(0,n.SU)(t).theme},[o.value?((0,r.wg)(),(0,r.iD)("div",u,[(0,r._)("div",d,[p,(0,r._)("div",m,[(0,r._)("button",{onClick:a[0]||(a[0]=e=>l()),class:"btn btn-sm btn-ghost"},"Never"),(0,r._)("button",{onClick:a[1]||(a[1]=e=>o.value=null),class:"btn btn-sm btn-ghost"},"Deny"),(0,r._)("button",{onClick:a[2]||(a[2]=e=>o.value.prompt()),class:"btn btn-sm btn-primary"},"Install")])])])):(0,r.kq)("",!0),(0,r.Wm)(i)],12,c)}}};const h=b;var g=h,f=o(5431);(0,f.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var y=o(2483),w=(o(3408),o(4590),o(7658),o(6983)),v=o.n(w),_=o(5860);const k=(0,r._)("div",{class:"divider text-xl"},"Storage",-1),S={class:"flex justify-center items-center"},x=(0,r._)("span",null,"Storage Used : ",-1),U=(0,r.uE)('<div class="divider text-xl"></div><h3 class="font-bold text-lg mb-4">&quot;What Is That ?.&quot; U Ask ?.</h3><p class="p-1 mt-2">That Is A Storage U Used On The Browser. TweezeL Really Rely On Browser Storage <i>(LocalStorage)</i>. Usually The Space Is <b>5 MB</b> <u>(While PWA App Can Be Up To <b>20% Of Your Total Device Storage.).</b></u> <b>5 MB</b> Is Not Much But It Contain A Lot Of Text For U To Create A Very Big Story. So If It&#39;s Full U May Want To Backup / Delete Your Story. Or...</p><p class="p-1 mt-2">I Heard If U Install TweezeL As PWA App On Chrome. It Will Increase It&#39;s Storage Limit ?.<br>I Don&#39;t Know. Why Don&#39;t U Try Yourself Installing TweezeL ?. :)</p>',4);var T={__name:"StorageDetail",setup(e){const t=i();return(e,o)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[k,(0,r._)("div",S,[x,(0,r._)("div",{class:"radial-progress",style:(0,s.j5)(["--value:"+(0,n.SU)(t).currentStorage/(0,n.SU)(t).maxStorage*100+";"])},(0,s.zw)(Math.round((0,n.SU)(t).currentStorage/(0,n.SU)(t).maxStorage*100))+"%",5)]),U],64))}};const C=T;var A=C;const D=["id"],H={class:"modal modal-bottom sm:modal-middle"},I={class:"modal-box relative"},M=["for"],z={class:"modal-action"},L=["onClick","for"],B=["for"];var W={__name:"ModalComponent",props:["idProps","className","modalAction"],setup(e){return(t,o)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("input",{type:"checkbox",id:e.idProps,class:(0,s.C_)(["modal-toggle ",e.className])},null,10,D),(0,r._)("div",H,[(0,r._)("div",I,[(0,r._)("label",{for:e.idProps,class:"btn btn-error btn-sm btn-circle btn-ghost absolute right-2 top-2 text-error"},"✕",8,M),(0,r.WI)(t.$slots,"children"),(0,r._)("div",z,[e.modalAction.length>0?((0,r.wg)(!0),(0,r.iD)(r.HY,{key:0},(0,r.Ko)(e.modalAction,((t,o)=>((0,r.wg)(),(0,r.iD)("label",{key:o,class:(0,s.C_)(t.className),onClick:t.onPress,for:t.closeOnClick?e.idProps:"none"},(0,s.zw)(t.label),11,L)))),128)):((0,r.wg)(),(0,r.iD)("label",{key:1,for:e.idProps,class:"btn btn-success"},"Close.",8,B))])])])],64))}};const P=W;var j=P;const O={class:"navbar bg-primary shadow-lg text-primary-content"},N=(0,r._)("div",{class:"flex-1"},[(0,r._)("button",{class:"btn btn-ghost normal-case text-xl"},"TweezeL")],-1),F={class:"shrink"},q={for:"limit-modal",class:"btn btn-ghost normal-case text-xl"},E={class:"dropdown dropdown-end"},Y=(0,r._)("label",{tabindex:"0",class:"btn btn-ghost btn-square m-1"},[(0,r._)("svg",{fill:"none",viewBox:"0 0 24 24",class:"inline-block w-5 h-5 stroke-current"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})])],-1),R={tabindex:"0",class:"dropdown-content menu p-2 rounded-box shadow-xl bg-primary mt-4"},V=(0,r._)("li",{class:"p-1"},[(0,r._)("label",{for:"setting-modal"},"Setting")],-1),G=(0,r._)("li",{class:"p-1"},[(0,r._)("label",{for:"about-modal"},"About")],-1),J={key:0},$={class:"form-control p-2"},K={class:"input-group input-group-xs w-full"},Q={key:0,class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Z=(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1),X=[Z],ee={key:1,class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},te=(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1),oe=[te],ae={class:"w-full grow p-2 overflow-auto flex flex-col"},le={class:"grow overflow-auto pb-[69px]"},re={class:"relative flex items-center transition-all hover:bg-black/20"},se={key:0,class:"handle absolute left-3 cursor-move"},ne=(0,r._)("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[(0,r._)("path",{"fill-rule":"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"})],-1),ie=[ne],ce={class:"flex absolute right-3"},ue={class:"dropdown dropdown-end"},de=(0,r._)("label",{tabindex:"0",class:"btn btn-ghost btn-sm"},[(0,r._)("svg",{fill:"none",viewBox:"0 0 24 24",class:"inline-block w-5 h-5 stroke-current"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})])],-1),pe={tabindex:"0",class:"dropdown-content menu menu-compact p-2 bg-base-100 rounded-box shadow-xl"},me=["onClick"],be=(0,r._)("label",{for:"create-modal",class:"btn btn-primary btn-circle absolute bottom-5 right-5 cursor-pointer"},[(0,r._)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])],-1),he=(0,r._)("input",{type:"checkbox",id:"create-modal",class:"modal-toggle"},null,-1),ge={class:"modal modal-bottom sm:modal-middle"},fe={class:"modal-box relative"},ye=(0,r._)("label",{for:"create-modal",class:"btn btn-error btn-sm btn-circle btn-ghost absolute right-2 top-2 text-error"},"✕",-1),we=(0,r._)("h3",{class:"font-bold text-lg mb-4"},"Write An Amazing Title For Your Story...",-1),ve={class:"modal-action"},_e=(0,r._)("input",{type:"checkbox",id:"setting-modal",class:"modal-toggle"},null,-1),ke={class:"modal modal-bottom sm:modal-middle"},Se={class:"modal-box relative"},xe=(0,r._)("label",{for:"setting-modal",class:"btn btn-error btn-sm btn-circle btn-ghost absolute right-2 top-2 text-error"},"✕",-1),Ue=(0,r._)("div",{class:"divider text-xl"},"Setting",-1),Te=(0,r._)("p",{class:"text-base py-2"},"Choose Theme.",-1),Ce={class:"flex flex-col gap-1"},Ae=["data-theme"],De={class:"flex flex-row gap-1"},He=(0,r._)("span",{class:"aspect-square w-5 text-center bg-primary text-primary-content"},"A",-1),Ie=(0,r._)("span",{class:"aspect-square w-5 text-center bg-secondary text-secondary-content"},"A",-1),Me=(0,r._)("span",{class:"aspect-square w-5 text-center bg-accent text-accent-content"},"A",-1),ze=(0,r._)("span",{class:"aspect-square w-5 text-center bg-neutral text-neutral-content"},"A",-1),Le={class:"label-text capitalize"},Be=["value","checked"],We=(0,r._)("div",{class:"divider"},null,-1),Pe=(0,r._)("p",{class:"text-base py-2"},"Load Story From Backup.",-1),je=(0,r._)("p",{class:"text-base py-2"},"Create Backup Of An Entire Story.",-1),Oe=(0,r._)("p",{class:"text-base py-2"},"Load Entire Story From Backup.",-1),Ne=(0,r.uE)('<input type="checkbox" id="about-modal" class="modal-toggle"><div class="modal modal-bottom sm:modal-middle"><div class="modal-box relative"><label for="about-modal" class="btn btn-error btn-sm btn-circle btn-ghost absolute right-2 top-2 text-error">✕</label><p class="p-1 mt-2">TweezeL Is A Free Tools For Creating Twine Games Focused For Android. But It Quite Works Well On Any Device With Browser On It. :3.</p><p class="p-1 mt-2">The Feature Is Not Good Like Twine Or Tweego. But At Least It&#39;s Device Friendly Than Twine. And User Friendly Than Tweego. :)</p><p class="p-1 mt-2">Now This Tools Already Support All Official Listed Story Formats On Twine 2 Tools. Such As Chapbook, Harlowe, Snowman, And Sugarcube.</p><p class="p-1 mt-2">If You Don&#39;t Know What To Choose For Your Game Story Formats. Just Create A New Story. Set The StoryFormats On The Story Global Setting.<br> And Play The Story. Try All The StoryFormats One By One. Till U Find It Perfect For Your Game.<br> Also. Every StoryFormats Has It&#39;s Own Documentations. If U Plan For Longer Gameplay For Your Game. Think About This StoryFormats Seriously. :3.<br> My Personal Recomendations Is... <b>Sugarcube 2</b>...</p><p class="p-1 mt-2">This Tools Is More Or Less Like Tweego But With GUI. For Those Who Never Code Twine Games With Tweego And Wanna Try This Tools.<br> Just Create A New Story To Read Some Very Basic Tutorial :).<br> Or <a class="text-primary-content underline" href="https://www.youtube.com/playlist?list=PLb4OE-UTEU-86vltmWTJTBkbYEWbGSebe" target="_blank" rel="noopener noreferrer">Go To Here.</a> It&#39;s My Youtube Playlist. Some Video About This Project. Like Basic Tutorial And Such Things.</p><label for="about-modal" class="btn btn-success btn-block btn-sm mt-2">Happy Creating !.</label></div></div>',2);var Fe={__name:"MainView",setup(e){const t=i(),o=(0,n.iH)(""),l=(0,n.iH)(!1),c=(0,n.iH)("story"),u=(0,n.iH)(t.story),d=(0,n.iH)(t.themeList),p=(0,n.iH)(!1),m=(0,n.iH)(null),b=(0,n.iH)(null),h=(0,n.iH)(null),g=(0,_.RN)({position:"top",duration:2e3,dismissible:!0});let f=(0,n.iH)("");function w(){t.themeList=["garden","business","wireframe","black","valentine","retro","fantasy","pastel","autumn","winter"],g.show("Refresh The App To See The Changes...",{type:"success"})}function k(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}function S(){return k().toString().toUpperCase()}function x(){if(o.value.length<1)g.show("Story Name Is Required...",{type:"error"});else{let e=S(),a={title:o.value,ifid:e,startNode:"1",userStyle:"/* Design Your Styling In Here */",userScript:"// Type Your Own Javascript In Here",storyformats:"sugarcube-2",passage:[{name:"start",pid:"1",data:'This Is Your Start Passage.\nQuick Tips.\nTo Add Link / Ways To Other Passage Use\n[[about]] <- This Display "about", When Clicked Go To "about" Passage.\n[[This Is About|about]] <- This Display "This Is About", When Clicked Go To "about" Passage.'},{name:"about",pid:"2",data:'This Is Your About Passage\nTry To Link From Here To "start" Just Use Like In The [[start]] Passage.\nBeware Of Passage Link That Leads To Nowhere !. Like This -> [[pit]] Or [[Go To Pit|pit]].\nTo Fix That, Try To Add A New Passage And Name It "pit".'}]};t.story.push(a),l.value=!1,o.value=""}}function U(e){t.story=u.value.filter((t=>t.ifid!==e)),u.value=t.story}function T(e){let t=!1;return e.title&&e.ifid&&e.startNode&&e.passage&&(t=!0),t}function C(){let e=document.getElementById("jsonfileinput").files[0];if(void 0!=e){let o=new FileReader;o.onload=function(e){let o=e.target.result,a=JSON.parse(o);T(a)&&t.story.push(a),c.value="story"},o.readAsText(e)}}function D(){let e=document.getElementById("jsonwholestoryfileinput").files[0];if(void 0!=e){let o=new FileReader;o.onload=function(e){let o=e.target.result,a=JSON.parse(o);if(a.length>0)for(let l=0;l<a.length;l++)T(a[l])&&t.story.push(a[l]);c.value="story"},o.readAsText(e)}}function H(e){t.theme=e.target.value}function I(e,t){const o=["January","February","March","April","May","June","July","August","September","October","November","December"],a=new Date;var l=document.createElement("a");l.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),l.setAttribute("download",e+" "+a.getDate()+" "+o[a.getMonth()]+" "+a.getFullYear()+".tweezeldata"),l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l)}function M(){var e=0;for(var t in window.localStorage)window.localStorage.hasOwnProperty(t)&&(e+=t.length+localStorage.getItem(t).length);return e}function z(){var e=10485760,t=0,o=0,a="testQuota",l=2e4,r=(new Date).getTime(),s=0;let n=0;do{n=(new Date).getTime()-r;try{o=Math.floor((e+t)/2),localStorage.setItem(a,String("1").repeat(o)),t=o}catch(i){e=o-1}}while(e-t>1&&n<l);return localStorage.removeItem(a),p.value=!1,n>=l&&console.log("Unused Space Calculation May Be Off Due To Timeout."),s=o+a.length-1,s}function L(){p.value=!0;var e=z(),o=M(),a=e+o;return t.currentStorage=o,t.maxStorage=a,a}t.groupState="",window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),h.value=e})),window.addEventListener("appinstalled",(()=>{h.value=null}));let B=(0,r.Fl)((()=>""===f.value?u.value:u.value.filter((e=>e.title.toLowerCase().replace(/\s+/g,"").includes(f.value.toLowerCase().replace(/\s+/g,""))))));return(e,l)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",{class:"flex flex-col h-screen",style:(0,s.j5)({height:(0,n.SU)(t).innerHeight+"px"})},[(0,r._)("div",O,[N,(0,r._)("div",F,[(0,r._)("label",q,(0,s.zw)(Math.round((0,n.SU)(t).currentStorage/(0,n.SU)(t).maxStorage*100))+"%",1)]),(0,r._)("div",E,[Y,(0,r._)("ul",R,[V,G,h.value?((0,r.wg)(),(0,r.iD)("li",J,[(0,r._)("label",{onClick:l[0]||(l[0]=e=>h.value.prompt())},"Install")])):(0,r.kq)("",!0)])])]),(0,r._)("div",$,[(0,r._)("label",K,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>(0,n.dq)(f)?f.value=e:f=e),type:"text",placeholder:"Search",class:"input input-bordered input-xs grow"},null,512),[[a.nr,(0,n.SU)(f)]]),(0,r._)("span",{onClick:l[2]||(l[2]=e=>(0,n.dq)(f)?f.value="":f=""),class:"cursor-pointer"},[(0,n.SU)(f).length>0?((0,r.wg)(),(0,r.iD)("svg",Q,X)):((0,r.wg)(),(0,r.iD)("svg",ee,oe))])])]),(0,r._)("div",ae,[(0,r._)("div",le,[(0,n.SU)(B).length>0?((0,r.wg)(),(0,r.j4)((0,n.SU)(v()),{key:0,list:(0,n.SU)(B),handle:".handle","item-key":"title"},{item:(0,r.w5)((({element:e,index:t})=>[(0,r._)("div",re,[0==(0,n.SU)(f).length?((0,r.wg)(),(0,r.iD)("div",se,ie)):(0,r.kq)("",!0),(0,r._)("div",ce,[(0,r._)("div",ue,[de,(0,r._)("ul",pe,[(0,r._)("li",null,[(0,r._)("button",{onClick:t=>U(e.ifid),class:"bg-error text-error-content"}," Delete ",8,me)])])])]),(0,r.Wm)((0,n.SU)(y.rH),{to:`/story/${e.ifid}`,class:"py-4 static w-full px-12 truncate"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,s.zw)(e.title),1)])),_:2},1032,["to"])])])),_:1},8,["list"])):(0,r.kq)("",!0)])])],4),be,he,(0,r._)("div",ge,[(0,r._)("div",fe,[ye,we,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":l[3]||(l[3]=e=>o.value=e),type:"text",placeholder:"Story Title",class:"input input-bordered w-full"},null,512),[[a.nr,o.value]]),(0,r._)("div",ve,[(0,r._)("label",{onClick:l[4]||(l[4]=e=>x()),for:"create-modal",class:"btn btn-success"},"Start Creating !.")])])]),_e,(0,r._)("div",ke,[(0,r._)("div",Se,[xe,Ue,Te,(0,r._)("div",Ce,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(d.value,((e,o)=>((0,r.wg)(),(0,r.iD)("div",{key:o,class:"form-control"},[(0,r._)("label",{class:"label cursor-pointer bg-base-100 rounded-md p-2","data-theme":e},[(0,r._)("div",De,[He,Ie,Me,ze,(0,r._)("span",Le,(0,s.zw)(e),1)]),(0,r._)("input",{type:"radio",name:"theme-radio",class:"radio",value:e,onChange:l[5]||(l[5]=e=>H(e)),checked:(0,n.SU)(t).theme===e},null,40,Be)],8,Ae)])))),128))]),(0,r._)("button",{onClick:l[6]||(l[6]=e=>w()),class:"btn btn-primary btn-block btn-sm mt-2"},"Refresh Theme List ?."),We,Pe,(0,r._)("button",{onClick:l[7]||(l[7]=e=>m.value.click()),class:"btn btn-primary btn-block btn-sm"},"Choose Story Backup To Load."),(0,r._)("input",{onChange:C,class:"h-0 w-0",type:"file",id:"jsonfileinput",ref_key:"loadStory",ref:m,accept:".tweezeldata"},null,544),je,(0,r._)("button",{onClick:l[8]||(l[8]=e=>I("TweezeL Backup",JSON.stringify((0,n.SU)(t).story))),class:"btn btn-primary btn-block btn-sm"},"Backup The Entire Story."),Oe,(0,r._)("button",{onClick:l[9]||(l[9]=e=>b.value.click()),class:"btn btn-primary btn-block btn-sm"},"Choose Whole Story Backup To Load."),(0,r._)("input",{onChange:D,class:"h-0 w-0",type:"file",id:"jsonwholestoryfileinput",ref_key:"loadWholeStory",ref:b,accept:".tweezeldata"},null,544)])]),Ne,(0,r.Wm)((0,n.SU)(j),{idProps:"limit-modal",modalAction:[{className:"btn btn-primary",closeOnClick:!0,label:"Check Storage.",onPress:L},{className:"btn btn-success",closeOnClick:!0,label:"Close."}]},{children:(0,r.w5)((()=>[(0,r.Wm)((0,n.SU)(A))])),_:1},8,["modalAction"])],64))}};const qe=Fe;var Ee=qe;const Ye={class:"navbar bg-primary shadow-lg text-primary-content"},Re=(0,r._)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5 self-center m-2"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75"})],-1),Ve=[Re],Ge={class:"grow truncate"},Je={class:"normal-case text-xl truncate font-semibold"},$e=(0,r._)("button",{tabindex:"0",class:"btn btn-ghost btn-square m-1"},[(0,r._)("svg",{class:"h-5 w-5 self-center m-2",viewBox:"0 0 20 20",fill:"currentColor"},[(0,r._)("path",{"fill-rule":"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z","clip-rule":"evenodd"})])],-1),Ke={class:"form-control p-2"},Qe={class:"input-group input-group-xs w-full"},Ze={key:0,class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Xe=(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1),et=[Xe],tt={key:1,class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ot=(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1),at=[ot],lt={class:"w-full grow p-2 overflow-auto flex flex-col"},rt={class:"grow overflow-auto pb-[69px]"},st={class:"relative flex items-center transition-all hover:bg-black/20"},nt={key:0,class:"handle absolute left-3 cursor-move"},it=(0,r._)("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[(0,r._)("path",{"fill-rule":"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"})],-1),ct=[it],ut={class:"flex absolute right-3"},dt={class:"dropdown dropdown-end"},pt=(0,r._)("label",{tabindex:"0",class:"btn btn-ghost btn-sm"},[(0,r._)("svg",{fill:"none",viewBox:"0 0 24 24",class:"inline-block w-5 h-5 stroke-current"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})])],-1),mt={tabindex:"0",class:"dropdown-content menu menu-compact p-2 bg-base-100 rounded-box shadow-xl"},bt=["onClick"],ht={class:"absolute bottom-5 right-5 flex flex-row gap-5"},gt=(0,r._)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 13.5l3 3m0 0l3-3m-3 3v-6m1.06-4.19l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"})],-1),ft=[gt],yt=(0,r._)("svg",{class:"h-6 w-6 self-center m-2",viewBox:"0 0 20 20",fill:"currentColor"},[(0,r._)("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z","clip-rule":"evenodd"})],-1),wt=[yt],vt=(0,r._)("label",{for:"create-modal",class:"btn btn-primary btn-circle cursor-pointer"},[(0,r._)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])],-1),_t=(0,r._)("input",{type:"checkbox",id:"create-modal",class:"modal-toggle"},null,-1),kt={class:"modal modal-bottom sm:modal-middle"},St={class:"modal-box relative"},xt=(0,r._)("label",{for:"create-modal",class:"btn btn-error btn-sm btn-circle btn-ghost absolute right-2 top-2 text-error"},"✕",-1),Ut=(0,r._)("h3",{class:"font-bold text-lg mb-4"},"Passage Name...",-1),Tt={class:"modal-action"};var Ct={__name:"StoryView",setup(e){const t=i(),o=(0,y.yj)(),l=(0,n.iH)(!1),c=(0,n.iH)(""),u=((0,n.iH)(""),o.params.id),d=e=>e.ifid==u,p=t.story.findIndex(d),m=(0,n.iH)(t.story[p].passage),b=(0,_.RN)({position:"top",duration:2e3,dismissible:!0});let h=(0,n.iH)("");(0,n.iH)("");function g(e){var o=!1;for(let a=0;a<t.story[p].passage.length;a++)t.story[p].passage[a].name==e&&(o=!0);return o}function f(){if(c.value.length<1)b.show("Passage Name Is Required...",{type:"error"});else if(g(c.value))c.value="",b.show("Passage Name Already Exist...",{type:"error"});else{let e=1,o=[];for(let a=0;a<t.story[p].passage.length;a++)o.push(t.story[p].passage[a].pid);o.sort((function(e,t){return e-t}));for(let t=0;t<o.length;t++)o[t]==e&&e++;t.story[p].passage.push({name:c.value,pid:e.toString(),data:"Edit Your New Passage..."}),l.value=!1,c.value=""}}function w(e){t.story[p].passage=m.value.filter((t=>t.pid!==e)),m.value=t.story[p].passage}t.storyId=p;let k=(0,r.Fl)((()=>""===h.value?m.value:m.value.filter((e=>e.name.toLowerCase().replace(/\s+/g,"").includes(h.value.toLowerCase().replace(/\s+/g,""))))));return(e,o)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",{class:"flex flex-col h-screen",style:(0,s.j5)({height:(0,n.SU)(t).innerHeight+"px"})},[(0,r._)("div",Ye,[(0,r._)("button",{tabindex:"0",class:"btn btn-ghost btn-square",onClick:o[0]||(o[0]=t=>e.$router.back())},Ve),(0,r._)("div",Ge,[(0,r._)("div",Je,(0,s.zw)((0,n.SU)(t).story[(0,n.SU)(p)].title),1)]),(0,r.Wm)((0,n.SU)(y.rH),{to:`/story/${(0,n.SU)(u)}/global`},{default:(0,r.w5)((()=>[$e])),_:1},8,["to"])]),(0,r._)("div",Ke,[(0,r._)("label",Qe,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>(0,n.dq)(h)?h.value=e:h=e),type:"text",placeholder:"Search",class:"input input-bordered input-xs grow"},null,512),[[a.nr,(0,n.SU)(h)]]),(0,r._)("span",{onClick:o[2]||(o[2]=e=>(0,n.dq)(h)?h.value="":h=""),class:"cursor-pointer"},[(0,n.SU)(h).length>0?((0,r.wg)(),(0,r.iD)("svg",Ze,et)):((0,r.wg)(),(0,r.iD)("svg",tt,at))])])]),(0,r._)("div",lt,[(0,r._)("div",rt,[(0,n.SU)(k).length>0?((0,r.wg)(),(0,r.j4)((0,n.SU)(v()),{key:0,list:(0,n.SU)(k),handle:".handle","item-key":"pid"},{item:(0,r.w5)((({element:e,index:o})=>[(0,r._)("div",st,[0==(0,n.SU)(h).length?((0,r.wg)(),(0,r.iD)("div",nt,ct)):(0,r.kq)("",!0),(0,r._)("div",ut,[(0,r._)("div",dt,[pt,(0,r._)("ul",mt,[(0,r._)("li",null,[(0,r._)("button",{onClick:t=>w(e.pid),class:"bg-error text-error-content"}," Delete ",8,bt)])])])]),(0,r.Wm)((0,n.SU)(y.rH),{to:`/story/${(0,n.SU)(t).story[(0,n.SU)(p)].ifid}/edit/${e.pid}`,class:"py-4 static w-full px-12 truncate"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,s.zw)(e.name),1)])),_:2},1032,["to"])])])),_:1},8,["list"])):(0,r.kq)("",!0)])])],4),(0,r._)("div",ht,[(0,r.Wm)((0,n.SU)(y.rH),{to:`/story/${(0,n.SU)(u)}/play`},{default:(0,r.w5)((()=>[(0,r._)("button",{class:"btn btn-primary btn-circle cursor-pointer",onClick:o[3]||(o[3]=e=>(0,n.SU)(t).playState="export")},ft)])),_:1},8,["to"]),(0,r.Wm)((0,n.SU)(y.rH),{to:`/story/${(0,n.SU)(u)}/play`},{default:(0,r.w5)((()=>[(0,r._)("button",{class:"btn btn-primary btn-circle cursor-pointer",onClick:o[4]||(o[4]=e=>(0,n.SU)(t).playState="play")},wt)])),_:1},8,["to"]),vt]),_t,(0,r._)("div",kt,[(0,r._)("div",St,[xt,Ut,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":o[5]||(o[5]=e=>c.value=e),type:"text",placeholder:"Passage Name",class:"input input-bordered w-full"},null,512),[[a.nr,c.value]]),(0,r._)("div",Tt,[(0,r._)("label",{onClick:o[6]||(o[6]=e=>f()),for:"create-modal",class:"btn btn-success"},"Add Passage.")])])])],64))}};const At=Ct;var Dt=At;const Ht={class:"navbar bg-primary shadow-lg text-primary-content"},It=(0,r._)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5 self-center m-2"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75"})],-1),Mt=[It],zt=(0,r._)("div",{class:"grow truncate"},[(0,r._)("button",{class:"btn btn-ghost normal-case px-0 text-xl m-1"},"Editing Passage")],-1),Lt={class:"w-full px-2 pb-2 flex flex-col h-full"},Bt={class:"form-control"},Wt=(0,r._)("label",{class:"label"},[(0,r._)("span",{class:"label-text"},"Passage Names")],-1),Pt={class:"input-group input-group-xs w-full"},jt=(0,r._)("span",null,"Set",-1),Ot=[jt],Nt={class:"flex flex-row w-full items-center gap-2"},Ft={class:"form-control w-fit"},qt={class:"label cursor-pointer justify-start gap-2"},Et=["checked"],Yt=(0,r._)("span",{class:"label-text"},"Wrap",-1),Rt=(0,r._)("img",{id:"output"},null,-1);var Vt={__name:"StoryEdit",setup(e){const t=i(),o=(0,y.yj)(),l=o.params.id,c=e=>e.ifid==l,u=t.story.findIndex(c),d=o.params.pid,p=e=>e.pid==d,m=t.story[u].passage.findIndex(p),b=(0,n.iH)(t.story[u].passage[m].name),h=(0,n.iH)(b.value),g=(0,n.iH)(t.story[u].passage),f=(0,_.RN)({position:"top",duration:2e3,dismissible:!0});let w=g.value.map((function(e){return e.name}));function v(e){let o=0;w.forEach((function(t){t==e&&(o+=1)})),0==o?(t.story[u].passage[m].name=e,f.show("Success Changing Passage Name...",{type:"success"}),b.value=e,h.value=e):f.show("Passage Name Is Alreadys Exist Or Empty...",{type:"error"})}return(e,o)=>((0,r.wg)(),(0,r.iD)("div",{class:"h-screen flex flex-col",style:(0,s.j5)({height:(0,n.SU)(t).innerHeight+"px"})},[(0,r._)("div",Ht,[(0,r._)("button",{tabindex:"0",class:"btn btn-ghost btn-square",onClick:o[0]||(o[0]=t=>e.$router.back())},Mt),zt]),(0,r._)("div",Lt,[(0,r._)("div",Bt,[Wt,(0,r._)("label",Pt,[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>h.value=e),type:"text",placeholder:"Passage Title Must Not Empty",class:"input input-bordered input-xs grow"},null,512),[[a.nr,h.value]]),b.value!=h.value?((0,r.wg)(),(0,r.iD)("span",{key:0,onClick:o[2]||(o[2]=e=>v(h.value)),class:"cursor-pointer"},Ot)):(0,r.kq)("",!0)])]),(0,r._)("div",Nt,[(0,r._)("div",Ft,[(0,r._)("label",qt,[(0,r._)("input",{onClick:o[3]||(o[3]=e=>(0,n.SU)(t).isWrap=!(0,n.SU)(t).isWrap),type:"checkbox",class:"toggle toggle-primary",checked:!(0,n.SU)(t).isWrap},null,8,Et),Yt])])]),Rt,(0,r.wy)((0,r._)("textarea",{type:"textarea","onUpdate:modelValue":o[4]||(o[4]=e=>(0,n.SU)(t).story[(0,n.SU)(u)].passage[(0,n.SU)(m)].data=e),class:(0,s.C_)([(0,n.SU)(t).isWrap?"whitespace-pre":"","text-xs font-mono textarea textarea-bordered resize-none grow w-full h-full px-1"])},null,2),[[a.nr,(0,n.SU)(t).story[(0,n.SU)(u)].passage[(0,n.SU)(m)].data]])])],4))}};const Gt=Vt;var Jt=Gt;const $t={class:"navbar bg-primary shadow-lg text-primary-content"},Kt=(0,r._)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5 self-center m-2"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75"})],-1),Qt=[Kt],Zt=(0,r._)("div",{class:"grow truncate"},[(0,r._)("button",{class:"btn btn-ghost normal-case px-0 text-xl m-1"},"Story Setting")],-1),Xt={class:"tabs tabs-boxed m-2"},eo={key:0,class:"p-1 w-full grow overflow-auto px-2"},to={class:"form-control w-full"},oo=(0,r._)("label",{class:"label"},[(0,r._)("span",{class:"label-text"},"Story Title")],-1),ao={class:"form-control w-full"},lo=(0,r._)("label",{class:"label"},[(0,r._)("span",{class:"label-text"},"Story Formats")],-1),ro=["value"],so={class:"p-2"},no={key:0},io=(0,r._)("a",{class:"text-primary underline",href:"https://klembot.github.io/chapbook/guide/",target:"_blank",rel:"noopener noreferrer"},"guide",-1),co={key:1},uo=(0,r._)("a",{class:"text-primary underline",href:"https://twine2.neocities.org/",target:"_blank",rel:"noopener noreferrer"},"documentation",-1),po=(0,r._)("br",null,null,-1),mo=(0,r._)("br",null,null,-1),bo={key:2},ho=(0,r._)("a",{class:"text-primary underline",href:"https://twine2.neocities.org/",target:"_blank",rel:"noopener noreferrer"},"documentation",-1),go=(0,r._)("br",null,null,-1),fo=(0,r._)("br",null,null,-1),yo={key:3},wo=(0,r._)("a",{class:"text-primary underline",href:"https://twine2.neocities.org/",target:"_blank",rel:"noopener noreferrer"},"documentation",-1),vo=(0,r._)("br",null,null,-1),_o=(0,r._)("br",null,null,-1),ko={key:4},So=(0,r._)("a",{class:"text-primary underline",href:"https://videlais.github.io/snowman/2/",target:"_blank",rel:"noopener noreferrer"},"documentation",-1),xo={key:5},Uo=(0,r._)("a",{class:"text-primary underline",href:"https://videlais.github.io/snowman/1/",target:"_blank",rel:"noopener noreferrer"},"documentation",-1),To={key:6},Co=(0,r._)("a",{class:"text-primary underline",href:"http://www.motoslave.net/sugarcube/2/#documentation",target:"_blank",rel:"noopener noreferrer"},"documentation",-1),Ao=(0,r._)("br",null,null,-1),Do=(0,r._)("br",null,null,-1),Ho={key:7},Io=(0,r._)("a",{class:"text-primary underline",href:"http://www.motoslave.net/sugarcube/1/#documentation",target:"_blank",rel:"noopener noreferrer"},"documentation",-1),Mo=(0,r._)("br",null,null,-1),zo=(0,r._)("br",null,null,-1),Lo={key:8},Bo=(0,r._)("div",{class:"divider m-0"},null,-1),Wo={class:"form-control w-full"},Po=(0,r._)("label",{class:"label"},[(0,r._)("span",{class:"label-text"},"Story Will Start At : ")],-1),jo=["value"],Oo={class:"form-control w-full"},No=(0,r._)("label",{class:"label"},[(0,r._)("span",{class:"label-text"},"IFID")],-1),Fo={key:1,class:"p-1 outline-none w-full grow flex flex-col"},qo={class:"form-control"},Eo={class:"label cursor-pointer justify-start gap-2"},Yo=["checked"],Ro=(0,r._)("span",{class:"label-text"},"Wrap",-1),Vo={key:2,class:"p-1 outline-none w-full grow flex flex-col"},Go={class:"form-control"},Jo={class:"label cursor-pointer justify-start gap-2"},$o=["checked"],Ko=(0,r._)("span",{class:"label-text"},"Wrap",-1);var Qo={__name:"GlobalSettingStory",setup(e){const t=i(),o=(0,y.yj)(),l=(0,n.iH)("setting"),c=o.params.id,u=e=>e.ifid==c,d=t.story.findIndex(u),p=(0,n.iH)(t.story[d].title),m=p.value,b=(0,n.iH)(t.story),h=(0,n.iH)([{name:"Chapbook 1.2.1",val:"chapbook-1"},{name:"Harlowe 3.2.3",val:"harlowe-3"},{name:"Harlowe 2.1.0",val:"harlowe-2"},{name:"Harlowe 1.2.4",val:"harlowe-1"},{name:"Snowman 2.0.2",val:"snowman-2"},{name:"Snowman 1.4.0",val:"snowman-1"},{name:"SugarCube 2.36.1",val:"sugarcube-2"},{name:"SugarCube 1.0.35",val:"sugarcube-1"}]);let g=b.value.map((function(e){return e.title}));function f(e){let o=0;g.forEach((function(t){t==e&&(o+=1)})),0==o&&(t.story[d].title=e)}function w(e,t){var o=document.createElement("a");o.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),o.setAttribute("download",e),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)}return(e,o)=>((0,r.wg)(),(0,r.iD)("div",{class:"h-screen flex flex-col",style:(0,s.j5)({height:(0,n.SU)(t).innerHeight+"px"})},[(0,r._)("div",$t,[(0,r._)("button",{tabindex:"0",class:"btn btn-ghost btn-square",onClick:o[0]||(o[0]=t=>e.$router.back())},Qt),Zt]),(0,r._)("div",Xt,[(0,r._)("button",{onClick:o[1]||(o[1]=e=>l.value="setting"),class:(0,s.C_)(["setting"==l.value?"tab-active":"","tab grow"])},"Setting",2),(0,r._)("button",{onClick:o[2]||(o[2]=e=>l.value="css"),class:(0,s.C_)(["css"==l.value?"tab-active":"","tab grow"])},"CSS",2),(0,r._)("button",{onClick:o[3]||(o[3]=e=>l.value="js"),class:(0,s.C_)(["js"==l.value?"tab-active":"","tab grow"])},"Javascript",2)]),"setting"==l.value?((0,r.wg)(),(0,r.iD)("div",eo,[(0,r._)("div",to,[oo,(0,r.wy)((0,r._)("input",{onChange:o[4]||(o[4]=e=>f((0,n.SU)(m))),"onUpdate:modelValue":o[5]||(o[5]=e=>(0,n.dq)(m)?m.value=e:null),type:"text",placeholder:"Story Title Must Not Empty",class:"input input-bordered w-full"},null,544),[[a.nr,(0,n.SU)(m)]])]),(0,r._)("div",ao,[lo,(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":o[6]||(o[6]=e=>(0,n.SU)(t).story[(0,n.SU)(d)].storyformats=e),class:"select select-bordered w-full"},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(h.value,((e,t)=>((0,r.wg)(),(0,r.iD)("option",{value:e.val,key:t},(0,s.zw)(e.name),9,ro)))),128))],512),[[a.bM,(0,n.SU)(t).story[(0,n.SU)(d)].storyformats]])]),(0,r._)("div",so,["chapbook-1"==(0,n.SU)(t).story[(0,n.SU)(d)].storyformats?((0,r.wg)(),(0,r.iD)("div",no,[(0,r.Uk)(" A Twine story format emphasizing ease of authoring, multimedia, and playability on many different types of devices. Visit the "),io,(0,r.Uk)(" for more information. ")])):(0,r.kq)("",!0),"harlowe-3"==(0,n.SU)(t).story[(0,n.SU)(d)].storyformats?((0,r.wg)(),(0,r.iD)("div",co,[(0,r.Uk)(" The default story format for Twine 2. Consult its "),uo,(0,r.Uk)("."),po,mo,(0,r.Uk)(" License: Zlib ")])):(0,r.kq)("",!0),"harlowe-2"==(0,n.SU)(t).story[(0,n.SU)(d)].storyformats?((0,r.wg)(),(0,r.iD)("div",bo,[(0,r.Uk)(" The default story format for Twine 2. See its "),ho,(0,r.Uk)("."),go,fo,(0,r.Uk)(" License: Zlib ")])):(0,r.kq)("",!0),"harlowe-1"==(0,n.SU)(t).story[(0,n.SU)(d)].storyformats?((0,r.wg)(),(0,r.iD)("div",yo,[(0,r.Uk)(" The default story format for Twine 2. See its "),wo,(0,r.Uk)("."),vo,_o,(0,r.Uk)(" License: Zlib ")])):(0,r.kq)("",!0),"snowman-2"==(0,n.SU)(t).story[(0,n.SU)(d)].storyformats?((0,r.wg)(),(0,r.iD)("div",ko,[(0,r.Uk)(" A minimal story format for authors more experienced with HTML, CSS, and JavaScript. See its "),So,(0,r.Uk)(". ")])):(0,r.kq)("",!0),"snowman-1"==(0,n.SU)(t).story[(0,n.SU)(d)].storyformats?((0,r.wg)(),(0,r.iD)("div",xo,[(0,r.Uk)(" A minimal story format for authors more experienced with HTML, CSS, and JavaScript. See its "),Uo,(0,r.Uk)(". ")])):(0,r.kq)("",!0),"sugarcube-2"==(0,n.SU)(t).story[(0,n.SU)(d)].storyformats?((0,r.wg)(),(0,r.iD)("div",To,[(0,r.Uk)(" A full featured, highly customizable story format. See its "),Co,(0,r.Uk)("."),Ao,Do,(0,r.Uk)(" License: BSD-2-Clause ")])):(0,r.kq)("",!0),"sugarcube-1"==(0,n.SU)(t).story[(0,n.SU)(d)].storyformats?((0,r.wg)(),(0,r.iD)("div",Ho,[(0,r.Uk)(" A Twine 2 port of the Twine 1 story format by the same name. See its "),Io,(0,r.Uk)("."),Mo,zo,(0,r.Uk)(" License: Simplified BSD License ")])):(0,r.kq)("",!0),(0,n.SU)(t).story[(0,n.SU)(d)].storyformats?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",Lo," Choose Story Formats. To See It's Descriptions And Link To It's Documentations. "))]),Bo,(0,r._)("div",Wo,[Po,(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":o[7]||(o[7]=e=>(0,n.SU)(t).story[(0,n.SU)(d)].startNode=e),class:"select select-bordered w-full"},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,n.SU)(t).story[(0,n.SU)(d)].passage,((e,t)=>((0,r.wg)(),(0,r.iD)("option",{value:e.pid,key:t},(0,s.zw)(e.name),9,jo)))),128))],512),[[a.bM,(0,n.SU)(t).story[(0,n.SU)(d)].startNode]])]),(0,r._)("div",Oo,[No,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":o[8]||(o[8]=e=>(0,n.SU)(t).story[(0,n.SU)(d)].ifid=e),disabled:"",type:"text",class:"input input-disabled input-bordered w-full"},null,512),[[a.nr,(0,n.SU)(t).story[(0,n.SU)(d)].ifid]])]),(0,r._)("button",{onClick:o[9]||(o[9]=e=>w((0,n.SU)(t).story[(0,n.SU)(d)].title+".tweezeldata",JSON.stringify((0,n.SU)(t).story[(0,n.SU)(d)]))),class:"btn btn-primary btn-block my-3"},"Backup This Story.")])):(0,r.kq)("",!0),"css"==l.value?((0,r.wg)(),(0,r.iD)("div",Fo,[(0,r._)("div",qo,[(0,r._)("label",Eo,[(0,r._)("input",{onClick:o[10]||(o[10]=e=>(0,n.SU)(t).isWrap=!(0,n.SU)(t).isWrap),type:"checkbox",class:"toggle toggle-primary",checked:!(0,n.SU)(t).isWrap},null,8,Yo),Ro])]),(0,r.wy)((0,r._)("textarea",{type:"textarea","onUpdate:modelValue":o[11]||(o[11]=e=>(0,n.SU)(t).story[(0,n.SU)(d)].userStyle=e),class:(0,s.C_)([(0,n.SU)(t).isWrap?"whitespace-pre":"","text-xs font-mono textarea textarea-bordered resize-none grow w-full p-1"])},null,2),[[a.nr,(0,n.SU)(t).story[(0,n.SU)(d)].userStyle]])])):(0,r.kq)("",!0),"js"==l.value?((0,r.wg)(),(0,r.iD)("div",Vo,[(0,r._)("div",Go,[(0,r._)("label",Jo,[(0,r._)("input",{onClick:o[12]||(o[12]=e=>(0,n.SU)(t).isWrap=!(0,n.SU)(t).isWrap),type:"checkbox",class:"toggle toggle-primary",checked:!(0,n.SU)(t).isWrap},null,8,$o),Ko])]),(0,r.wy)((0,r._)("textarea",{type:"textarea","onUpdate:modelValue":o[13]||(o[13]=e=>(0,n.SU)(t).story[(0,n.SU)(d)].userScript=e),class:(0,s.C_)([(0,n.SU)(t).isWrap?"whitespace-pre":"","text-xs font-mono textarea textarea-bordered resize-none grow w-full p-1"])},null,2),[[a.nr,(0,n.SU)(t).story[(0,n.SU)(d)].userScript]])])):(0,r.kq)("",!0)],4))}};const Zo=Qo;var Xo=Zo;const ea={key:0,class:"p-2"},ta={key:1,class:"grow flex flex-col"},oa={class:"grow flex flex-col bg-white relative"},aa=(0,r._)("div",{class:"absolute bottom-0 left-0"},[(0,r._)("label",{for:"close-modal",tabindex:"0",class:"btn btn-ghost btn-square btn-xs bg-black/20"},[(0,r._)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-3 h-3 text-white"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])])],-1),la=["srcdoc"],ra={class:"grow flex flex-col"},sa={class:"navbar bg-primary shadow-lg text-primary-content"},na=(0,r._)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5 self-center m-2"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75"})],-1),ia=[na],ca=(0,r._)("div",{class:"grow truncate"},[(0,r._)("div",{class:"normal-case text-xl truncate px-0 font-semibold"},"Play Story")],-1),ua={key:0,class:"p-4"},da={key:1,class:"p-4"},pa=(0,r._)("div",{class:"alert alert-success shadow-lg"},[(0,r._)("div",null,[(0,r._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current flex-shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),(0,r._)("span",null,"Export Completed...")])],-1),ma=[pa],ba=(0,r._)("input",{type:"checkbox",id:"close-modal",class:"modal-toggle"},null,-1),ha={class:"modal modal-bottom sm:modal-middle"},ga={class:"modal-box relative"},fa=(0,r._)("label",{for:"close-modal",class:"btn btn-error btn-sm btn-circle btn-ghost absolute right-2 top-2 text-error"},"✕",-1),ya=(0,r._)("h3",{class:"font-bold text-lg mb-4"},"Quit Preview...???",-1),wa={class:"modal-action"},va=(0,r._)("label",{for:"close-modal",class:"btn btn-ghost"},"No.",-1);var _a={__name:"PlayStory",setup(e){const t=i(),l=(0,y.yj)(),c=l.params.id,u=e=>e.ifid==c,d=t.story.findIndex(u),p=new URL(o(9466),o.b).href,m=new URL(o(8301),o.b).href,b=new URL(o(5002),o.b).href,h=new URL(o(4179),o.b).href,g=new URL(o(3412),o.b).href,f=new URL(o(145),o.b).href,w=new URL(o(2519),o.b).href,v=new URL(o(2596),o.b).href,_=(0,n.iH)(""),k=(0,n.iH)(!1),S=(0,n.iH)(!0);sessionStorage.clear();const x=(0,n.iH)([]);function U(e){let o="",a="";for(let r=0;r<t.story[d].passage.length;r++){let e=t.story[d].passage[r].data,l=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;");a='<tw-passagedata pid="'+t.story[d].passage[r].pid+'" name="'+t.story[d].passage[r].name+'" tags="" position="100,100" size="100,100">'+l+"</tw-passagedata>",o+=a}let l=e.replace(/tweezelStoryTitle/g,t.story[d].title).replace(/tweezelStoryIfid/g,t.story[d].ifid).replace(/tweezelStoryStartNode/g,t.story[d].startNode).replace(/tweezelStoryUserStyle/g,t.story[d].userStyle).replace(/tweezelStoryUserScript/g,t.story[d].userScript).replace(/tweezelStoryPassage/g,o).replace(/tweezelVersion/g,"1.2.0");_.value=l}function T(){S.value=!1,"play"==t.playState&&(k.value=!0)}function C(){let e=document.createElement("a");e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(_.value)),e.setAttribute("download",t.story[d].title+".html"),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}return 0==t.story[d].passage.length&&x.value.push("No Passage To Play With. Add Some Passage First."),t.story[d].storyformats||x.value.push("Story Formats Is Not Set. Set First In Global Story Setting."),"chapbook-1"==t.story[d].storyformats?fetch(p).then((e=>e.text())).then((e=>{U(e)})):"harlowe-1"==t.story[d].storyformats?fetch(m).then((e=>e.text())).then((e=>{U(e)})):"harlowe-2"==t.story[d].storyformats?fetch(b).then((e=>e.text())).then((e=>{U(e)})):"harlowe-3"==t.story[d].storyformats?fetch(h).then((e=>e.text())).then((e=>{U(e)})):"snowman-1"==t.story[d].storyformats?fetch(g).then((e=>e.text())).then((e=>{U(e)})):"snowman-2"==t.story[d].storyformats?fetch(f).then((e=>e.text())).then((e=>{U(e)})):"sugarcube-1"==t.story[d].storyformats?fetch(w).then((e=>e.text())).then((e=>{U(e)})):"sugarcube-2"==t.story[d].storyformats&&fetch(v).then((e=>e.text())).then((e=>{U(e)})),(0,r.YP)((()=>_.value),(e=>{0!==e.length&&"export"===t.playState&&C()})),(e,o)=>((0,r.wg)(),(0,r.iD)("div",{class:"flex h-screen overflow-auto flex-col",style:(0,s.j5)({height:(0,n.SU)(t).innerHeight+"px"})},[x.value.length>0?((0,r.wg)(),(0,r.iD)("div",ea,[(0,r.Uk)(" There Is Some Error In Your Story. Here Is The Error(s) : "),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(x.value,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t},(0,s.zw)(t+1)+". "+(0,s.zw)(e),1)))),128)),(0,r._)("span",{class:"text-primary-content underline",onClick:o[0]||(o[0]=t=>e.$router.back())},"Click Here To Go Back.")])):((0,r.wg)(),(0,r.iD)("div",ta,[(0,r.wy)((0,r._)("div",oa,[aa,(0,r._)("iframe",{id:"storyWindow",class:"grow",srcdoc:_.value,onLoad:o[1]||(o[1]=e=>T())},null,40,la)],512),[[a.F8,k.value]]),(0,r.wy)((0,r._)("div",ra,[(0,r._)("div",sa,[(0,r._)("button",{tabindex:"0",class:"btn btn-ghost btn-square",onClick:o[2]||(o[2]=t=>e.$router.back())},ia),ca]),S.value?((0,r.wg)(),(0,r.iD)("div",ua,"Loading The Game... Please Wait A Bit...")):((0,r.wg)(),(0,r.iD)("div",da,ma))],512),[[a.F8,!k.value]])])),ba,(0,r._)("div",ha,[(0,r._)("div",ga,[fa,ya,(0,r._)("div",wa,[va,(0,r._)("label",{onClick:o[3]||(o[3]=t=>e.$router.back()),for:"create-modal",class:"btn btn-success"},"Yes.")])])])],4))}};const ka=_a;var Sa=ka;const xa=(0,y.p7)({history:(0,y.PO)("/"),routes:[{path:"/",name:"home",component:Ee},{path:"/story/:id",name:"story",component:Dt},{path:"/story/:id/edit/:pid",name:"edit story",component:Jt},{path:"/story/:id/global",name:"global setting",component:Xo},{path:"/story/:id/play",name:"play story",component:Sa},{path:"/:pathMatch(.*)*",name:"NotFound",component:Ee}]});var Ua=xa,Ta=o(8602);const Ca=(0,a.ri)(g),Aa=(0,l.WB)();Aa.use(Ta.Z),Ca.use(Aa),Ca.use(Ua),Ca.mount("#app")},9466:function(e,t,o){e.exports=o.p+"1f9a610d783297bd.txt"},8301:function(e,t,o){e.exports=o.p+"ebaefe6fcddf90ed.txt"},5002:function(e,t,o){e.exports=o.p+"452261ecc54653bf.txt"},4179:function(e,t,o){e.exports=o.p+"a328849ba54241ad.txt"},3412:function(e,t,o){e.exports=o.p+"1e75169c4cb4e109.txt"},145:function(e,t,o){e.exports=o.p+"e164277f2de50930.txt"},2519:function(e,t,o){e.exports=o.p+"295473832eb146c1.txt"},2596:function(e,t,o){e.exports=o.p+"a7c3d2dedda99c3c.txt"}},t={};function o(a){var l=t[a];if(void 0!==l)return l.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,o),r.exports}o.m=e,function(){var e=[];o.O=function(t,a,l,r){if(!a){var s=1/0;for(u=0;u<e.length;u++){a=e[u][0],l=e[u][1],r=e[u][2];for(var n=!0,i=0;i<a.length;i++)(!1&r||s>=r)&&Object.keys(o.O).every((function(e){return o.O[e](a[i])}))?a.splice(i--,1):(n=!1,r<s&&(s=r));if(n){e.splice(u--,1);var c=l();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[a,l,r]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){o.b=document.baseURI||self.location.href;var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var l,r,s=a[0],n=a[1],i=a[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(l in n)o.o(n,l)&&(o.m[l]=n[l]);if(i)var u=i(o)}for(t&&t(a);c<s.length;c++)r=s[c],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(u)},a=self["webpackChunktweezel"]=self["webpackChunktweezel"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[998],(function(){return o(8952)}));a=o.O(a)})();
//# sourceMappingURL=app.a7351598.js.map